webpackJsonp([1],{0:function(t,e,a){"use strict";function n(t){a(287)}var s=a(126),i=a(289),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},123:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(66),s=a(279),i=a(280),o=a.n(i),r=a(281),c=a(283),l=a.n(c),u=(a(285),a(0)),d=a(67),f=a.n(d),m=a(1395),v=(a.n(m),a(1396)),b=a.n(v),p=a(1397),h=(a.n(p),a(1398)),g=a.n(h),_=a(1399),w=(a.n(_),a(1400)),C=(a.n(w),a(127)),x=a.n(C),y=a(1401),k=a(1402),S=a(23),E=a(1682),A=a(1716),O=a(17),T=a(26),j=a(1723),D=console.log;n.default.use(r.b,T.c),n.default.component("Can",r.a),n.default.use(l.a,O.a.logger),n.default.use(s.a),n.default.use(o.a,{namespace:"vuesppwa-"}),n.default.use(b.a,{defaultIconPack:"fa"}),n.default.use(g.a),n.default.use(f.a,{rules:{isPct:function(t){var e=t.value;return!x.a.inRange(e||0,0,101)&&"Value "+e+" is not in range 0 to 100."}}}),n.default.use(E.a,{localDatabaseName:"iriblu",remoteDatabaseURI:"https://yourdb.yourpublic.work/iriblu"}),n.default.use(y.a),n.default.component("icon",u.a),n.default.config.productionTip=O.a.productionTip;var P=A.a,I=navigator.languages[0]||"en",R=new s.a({locale:I.split("-")[0]||"en",fallbackLocale:"en",messages:P});Object(m.sync)(S.a,j.a);var L=new n.default({el:"#app",i18n:R,router:j.a,store:S.a,beforeCreate:function(){D("<<<<<<<<<< beforeCreate >>>>>>>>>>>"),window.lgr=this.$log,window.ls=this.$ls,window.ability=this.$ability;var t=this.$route.query.tkn?this.$route.query.tkn:this.$ls.get(O.a.tokenName);D("<<<<<<<<<< keeping token >>>>>>>>>>>"),this.$store.dispatch("keepTkn",{token:t,ability:this.$ability}),this.$store.dispatch("person/fetchAll"),this.$store.dispatch("product/fetchAll")},created:function(){D("<<<<<<<<<< created >>>>>>>>>>>"),window.version=O.a.version,this.$log.info("microservice = "+O.a.server),D("\n      !!!!!!!!!?  returnToExitPoint  ?!!!!!!!!!");var t=window.localStorage,e=O.a.localStorageNameSpace+O.a.returnRouteName,a=JSON.parse(t.getItem(e));if(a){var n=a.value;n&&n.length>0&&!n.includes("home")&&(D("\n    !!!!!!!!!?  return to "+n+"  !!!!!!!!!"),D(this.$router.push({name:n})),t.removeItem(e))}},render:function(t){return t(k.a)}});e.default=L},126:function(t,e,a){"use strict";function n(){return"fa-"+(i++).toString(16)}var s={};e.a={name:"icon",props:{name:{type:String,validator:function(t){return!t||t in s||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?s[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,a=t.height;return Math.max(e,a)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,a,s){var i=n();return e[s]=i,' id="'+i+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,a,n,s){var i=a||s;return i&&e[i]?"#"+e[i]:t}),t}},mounted:function(){var t=this;if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(!this.icon){var e=0,a=0;this.$children.forEach(function(n){n.outerScale=t.normalizedScale,e=Math.max(e,n.width),a=Math.max(a,n.height)}),this.childrenWidth=e,this.childrenHeight=a,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(a-t.height)/2})}},register:function(t){for(var e in t){var a=t[e];a.paths||(a.paths=[]),a.d&&a.paths.push({d:a.d}),a.polygons||(a.polygons=[]),a.points&&a.polygons.push({points:a.points}),s[e]=a}},icons:s};var i=870711},129:function(t,e,a){"use strict";var n=a(37);e.a={name:"app",data:function(){return{}},created:function(){document.addEventListener("DOMContentLoaded",n.a)}}},1397:function(t,e){},1399:function(t,e){},1400:function(t,e){},1402:function(t,e,a){"use strict";function n(t){a(1403)}var s=a(129),i=a(1404),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1403:function(t,e){},1404:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header",attrs:{id:"app"}},[a("router-view",{attrs:{name:"hdr"}}),t._v(" "),a("main",{staticClass:"mdl-layout__content"},[a("div",{staticClass:"page-content"},[a("router-view")],1)])],1)},s=[]},1477:function(t,e,a){"use strict";var n=a(19),s=a.n(n),i=a(1478);console.log;e.a=s()({},i.a)},1478:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var n=a(19),s=a.n(n),i=a(1479),o=a(1480),r=a(1481),c=a(1482),l=s()({},i.a,o.a,r.a,c.a)},1479:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a(19),s=a.n(n),i=a(152),o=s()({},i.c)},1480:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var n=a(19),s=a.n(n),i=a(153),o=a(154),r=s()({},i.c,o.d)},1481:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a(19),s=a.n(n),i=a(155),o=s()({},i.c)},1482:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a(19),s=a.n(n),i=a(156),o=s()({},i.e)},1483:function(t,e,a){"use strict";var n=a(158),s=a(1494),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1484:function(t,e,a){"use strict";var n=a(159),s=a(1493),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1485:function(t,e){},1486:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v(t._s(t.pers.tipo_de_documento))]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.pers.ruc_cedula))])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Nombre")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.pers.nombre))])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Telefono")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.pers.telefono))])])])]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Direccion")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.pers.direccion))])])])]),t._v(" "),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Mail")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.pers.email))])])])]),t._v(" "),a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",{class:["si"===t.pers.distribuidor?"":"strike-out"]},[t._v("\n            Distribuidor\n          ")])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",{class:["si"===t.pers.retencion?"":"strike-out"]},[t._v("\n            Retencion\n          ")])])])])])},s=[]},1487:function(t,e,a){"use strict";function n(t){a(1488)}var s=a(162),i=a(1489),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1488:function(t,e){},1489:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isUpdating,canCancel:!0},on:{"update:active":function(e){t.isUpdating=e}}}),t._v(" "),t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:t.formUid,initial:t.pers},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",{staticClass:"title"},[t._v("Person")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[a("div",{staticClass:"column is-narrow"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Nombre")]),t._v(" "),a("formulate-element",{attrs:{name:"nombre",type:"text",placeholder:"Nombre y Appellidos"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Tipo de Identificación")]),t._v(" "),a("formulate-element",{staticClass:"select is-small is-focused",attrs:{name:"tipo",type:"select",initial:"cedula",options:t.typesId}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Identificación")]),t._v(" "),a("formulate-element",{attrs:{name:"ruc_cedula",type:"text",placeholder:"Codigo de identificación"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Telefono")]),t._v(" "),a("formulate-element",{attrs:{name:"telefono",type:"tel",placeholder:"# de telefono"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Dirección")]),t._v(" "),a("formulate-element",{attrs:{name:"direccion",type:"text",placeholder:"Dirección"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Distribuidor?")]),t._v(" "),a("formulate-element",{attrs:{type:"checkbox",label:"  ",name:"distribuidor"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Retencion?")]),t._v(" "),a("formulate-element",{attrs:{type:"checkbox",label:"  ",name:"retencion"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Correos Electronicos")]),t._v(" "),a("formulate-element",{attrs:{name:"email",type:"text",placeholder:"Correos Electronicos"}})],1)]),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])])],1)],1)},s=[]},1490:function(t,e,a){"use strict";function n(t){a(1491)}var s=a(163),i=a(1492),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1491:function(t,e){},1492:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:t.formUid,initial:t.permissionsField},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",[t._v(t._s(t.pers.nombre))]),t._v(" "),a("h5",[t._v("Sus Permisos por Recurso")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[t._l(t.resources,function(e){return a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v(t._s(e))]),t._v(" "),a("formulate-element",{staticClass:"select is-small is-focused",attrs:{name:e,type:"select",initial:"0",options:t.levels}})],1)])}),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)],2)])],1)],1)},s=[]},1493:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("nav",{staticClass:"panel"},[a("p",{staticClass:"panel-heading"},[a("span",{staticClass:"is-size-6"},[t._v("Registro #"+t._s(t.p(t.id).codigo))])]),t._v(" "),a("b-tabs",{model:{value:t.activeSubTab,callback:function(e){t.activeSubTab=e},expression:"activeSubTab"}},[a("b-tab-item",[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-outlined"},[a("b-icon",{attrs:{icon:"eye"}})],1)]),t._v(" "),a("person-record",{attrs:{pers:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAlter()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-info is-outlined"},[a("b-icon",{attrs:{icon:"edit"}})],1)]),t._v(" "),a("person-update",{attrs:{pers:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAssign()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-warning has-text-weight-bold is-outlined"},[a("b-icon",{attrs:{icon:"lock"}})],1)]),t._v(" "),a("person-auth",{attrs:{pers:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAssign()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-danger is-outlined"},[a("b-icon",{attrs:{icon:"trash"}})],1)]),t._v('\n        The record for "'+t._s(t.p(t.id).nombre)+'" will be marked for deletion, will no longer appear in the persons list, but will be kept for historical purposes.\n\n        '),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("a",{staticClass:"button is-info",on:{click:function(e){t.activeSubTab=0}}},[t._v("Go back")])])]),t._v(" "),a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item has-text-centered"},[a("a",{staticClass:"button is-danger"},[t._v("Yes, Delete")])])])])],2)],1)],1)])},s=[]},1494:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isBusy,canCancel:!0},on:{"update:active":function(e){t.isBusy=e}}}),t._v(" "),a("b-table",{attrs:{data:t.isEmpty?[]:t.persons,columns:t.columns,striped:!0,paginated:"","per-page":5,"current-page":1,"opened-detailed":t.defaultOpenedDetails,detailed:"","detail-key":"codigo",focusable:""},on:{"details-open":function(e,a){return t.$toast.open("Expanded "+e.nombre)}},scopedSlots:t._u([{key:"header",fn:function(e){return[a("b-tooltip",{attrs:{position:"is-left",active:!!e.column.meta,label:e.column.meta,dashed:""}},[t._v("\n        "+t._s(e.column.label)+"\n      ")])]}},{key:"detail",fn:function(t){var e=t.row;return[a("person-detail",{attrs:{id:e.codigo}})]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered",staticStyle:{"font-size":"large"}},[a("icon",{attrs:{scale:"3",name:"thumbs-down"}}),t._v(" "),a("p",[t._v("No results")])],1)])])],2),t._v(" "),a("div",{staticClass:"block"},[a("button",{staticClass:"button is-small is-primary",on:{click:function(e){t.columnSelectorOpen=!t.columnSelectorOpen}}},[t._v("\n          Column Selection\n      ")])]),t._v(" "),a("b-collapse",{staticClass:"panel",attrs:{open:t.columnSelectorOpen},on:{"update:open":function(e){t.columnSelectorOpen=e}}},[a("ul",[a("b-field",{attrs:{grouped:"","group-multiline":""}},t._l(t.columns,function(e,n){return a("div",{key:n,staticClass:"control"},[a("li",[a("b-checkbox",{model:{value:e.visible,callback:function(a){t.$set(e,"visible",a)},expression:"column.visible"}},[t._v("\n              "+t._s(e.meta)+"\n            ")])],1)])}))],1)])],1)},s=[]},1495:function(t,e,a){"use strict";var n=a(164),s=a(1499),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1496:function(t,e,a){"use strict";function n(t){a(1497)}var s=a(165),i=a(1498),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1497:function(t,e){},1498:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isCreating,canCancel:!0},on:{"update:active":function(e){t.isCreating=e}}}),t._v(" "),a("formulate",{staticClass:"my-form",attrs:{name:"createPerson"},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",{staticClass:"title"},[t._v("Person")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[a("div",{staticClass:"column is-narrow"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Nombre")]),t._v(" "),a("formulate-element",{attrs:{name:"nombre",type:"text",initial:"Joe Bloggs",placeholder:"Nombre y Appellidos"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Tipo de Identificación")]),t._v(" "),a("formulate-element",{staticClass:"select is-small",attrs:{name:"tipo",type:"select",initial:"_05",options:t.typesId}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Identificación")]),t._v(" "),a("formulate-element",{attrs:{name:"ruc_cedula",type:"text",initial:"1713931416",placeholder:"Codigo de identificación"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Correos Electronicos")]),t._v(" "),a("formulate-element",{attrs:{name:"email",type:"text",initial:"a@b.cd",placeholder:"Correos Electronicos"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Distribuidor?")]),t._v(" "),a("formulate-element",{attrs:{type:"checkbox",label:"  ",name:"distribuidor"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Retencion?")]),t._v(" "),a("formulate-element",{attrs:{type:"checkbox",label:"  ",name:"retencion"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Telefono")]),t._v(" "),a("formulate-element",{attrs:{name:"telefono",type:"tel",initial:"4444719",placeholder:"# de telefono"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Dirección")]),t._v(" "),a("formulate-element",{attrs:{name:"direccion",initial:"#1 1st St., Here, There, Everywhere",type:"text",placeholder:"Dirección"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("formulate-element",{attrs:{name:"Person",initial:"0",type:"text"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("formulate-element",{attrs:{name:"Example",initial:"3",type:"text"}})],1)]),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])])],1)],1)},s=[]},1499:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("b-tab-item",{attrs:{label:"Add Person"}},[a("Create")],1),t._v(" "),a("b-tab-item",{attrs:{visible:t.canEdit(),label:"Persons"}},[a("router-view",{attrs:{name:"personsList"}})],1)],1),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"home"}}},[a("icon",{attrs:{name:"arrow-circle-up"}}),t._v("\n     Home\n  ")],1)],1)},s=[]},1500:function(t,e,a){"use strict";e.a=[{meta:"Codigo",label:"ID",field:"codigo",centered:!1,width:5,visible:!0,numeric:!0},{meta:"RUC/Cedula",label:"RUC",field:"ruc_cedula",centered:!1,width:14,visible:!0,numeric:!1},{meta:"Nombre",label:"NBR",field:"nombre",centered:!1,width:70,visible:!0,numeric:!1},{meta:"Dirección",label:"DIR",field:"direccion",centered:!1,width:"",visible:!1,numeric:!1},{meta:"Telefono",label:"TLF",field:"telefono",centered:!1,width:18,visible:!0,numeric:!1},{meta:"Distribuidor?",label:"DST",field:"distribuidor",centered:!0,width:3,visible:!1,numeric:!1},{meta:"Retencion?",label:"RET",field:"retencion",centered:!0,width:3,visible:!1,numeric:!1},{meta:"Tipo",label:"TIP",field:"tipo",centered:!0,width:3,visible:!1,numeric:!0},{meta:"Tipo de Documento",label:"DOC",field:"tipo_de_documento",centered:!1,width:27,visible:!1,numeric:!1}]},1501:function(t,e,a){"use strict";var n=a(166),s=a(1505),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1502:function(t,e,a){"use strict";function n(t){a(1503)}var s=a(167),i=a(1504),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-8bfa7de0",null);e.a=c.exports},1503:function(t,e){},1504:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"level"},t._l(t.columns,function(e){return a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v(t._s(e.meta))]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.prod(t.id)[e.field]))])])])}))])},s=[]},1505:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isBusy,canCancel:!0},on:{"update:active":function(e){t.isBusy=e}}}),t._v(" "),a("b-table",{attrs:{data:t.isEmpty?[]:t.prods,columns:t.columns,striped:!0,paginated:"","per-page":20,"current-page":1,"opened-detailed":t.defaultOpenedDetails,detailed:"","detail-key":"codigo",focusable:""},on:{"details-open":function(e,a){return t.$toast.open("Expanded "+e.nombre)}},scopedSlots:t._u([{key:"header",fn:function(e){return[a("b-tooltip",{attrs:{position:"is-left",active:!!e.column.meta,label:e.column.meta,dashed:""}},[t._v("\n        "+t._s(e.column.label)+"\n      ")])]}},{key:"detail",fn:function(t){var e=t.row;return[a("product-detail",{attrs:{id:e.codigo}})]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered",staticStyle:{"font-size":"large"}},[a("icon",{attrs:{scale:"3",name:"thumbs-down"}}),t._v(" "),a("p",[t._v("No results")])],1)])])],2),t._v(" "),a("div",{staticClass:"block"},[a("button",{staticClass:"button is-small is-primary",on:{click:function(e){t.columnSelectorOpen=!t.columnSelectorOpen}}},[t._v("\n          Column Selection\n      ")])]),t._v(" "),a("b-collapse",{staticClass:"panel",attrs:{open:t.columnSelectorOpen},on:{"update:open":function(e){t.columnSelectorOpen=e}}},[a("ul",[a("b-field",{attrs:{grouped:"","group-multiline":""}},t._l(t.columns,function(e,n){return a("div",{key:n,staticClass:"control"},[a("li",[a("b-checkbox",{model:{value:e.visible,callback:function(a){t.$set(e,"visible",a)},expression:"column.visible"}},[t._v("\n              "+t._s(e.meta)+"\n            ")])],1)])}))],1)])],1)},s=[]},1506:function(t,e,a){"use strict";var n=a(168),s=a(1507),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1507:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-tabs",[a("b-tab-item",{attrs:{label:"Products"}},[a("router-view",{attrs:{name:"productsList"}})],1)],1),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"home"}}},[a("icon",{attrs:{name:"arrow-circle-up"}}),t._v("\n     Home\n  ")],1)],1)},s=[]},1508:function(t,e,a){"use strict";e.a=[{meta:"Codigo",label:"ID",field:"codigo",centered:!1,width:8,visible:!0,type:"integer",usage:"rw",numeric:!0,idx:0},{meta:"Nombre",label:"NBR",field:"nombre",centered:!0,width:70,visible:!0,type:"title",usage:"rw",numeric:!1,idx:1},{meta:"Unidad",label:"UNI",field:"unidad",centered:!1,width:16,visible:!0,type:"text",usage:"rw",numeric:!1,idx:2},{meta:"IVA",label:"IVA",field:"iva",centered:!1,width:"4",visible:!0,type:"percent",usage:"r",numeric:!0,idx:3},{meta:"Valor",label:"VAL",field:"valor",centered:!1,width:10,visible:!0,type:"usd",usage:"r",numeric:!0,idx:4},{meta:"Valor Distribuidor",label:"VLD",field:"valor_distribuidor",centered:!1,width:10,visible:!1,type:"usd",usage:"r",numeric:!0,idx:5},{meta:"Porcentaje",label:"PCT",field:"porcentaje",centered:!1,width:4,visible:!1,type:"percent",usage:"r",numeric:!0,idx:6}]},1519:function(t,e,a){"use strict";function n(t){a(1520)}var s=a(172),i=a(1531),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},152:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n="person",s="persons",i={};i.Person=[n,s,"persons/list"],e.c=i},1520:function(t,e){},1521:function(t,e,a){"use strict";var n=a(174),s=a(1530),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1522:function(t,e){},1523:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Codigo")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.codigo))])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Fecha")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.fecha))])])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Cliente")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.codigo_cliente))]),t._v(" "),a("p",{class:["si"===t.invc.distribuidor?"has-text-info":"is-invisible"]},[t._v("\n            Distribuidor\n          ")])])]),t._v(" "),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Mail")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.email))])])])])]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-item has-text-centered"},[a("b-table",{attrs:{data:t.detail,narrowed:!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"cant",label:"Cantidad",width:"10",numeric:""}},[t._v("\n                  "+t._s(e.row.cantidad)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"nombre",label:"Nombre",width:"400"}},[t._v("\n                  ("+t._s(e.row.codigo)+") "+t._s(e.row.nombre)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"nombre",label:"Unidades"}},[t._v("\n                  "+t._s(e.row.unidad)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"precio",label:"Precio",width:"100"}},[t._v("\n                  "+t._s(e.row.precio)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"descuento",label:"Descuento Especial",width:"10"}},[t._v("\n                  "+t._s(e.row.descuento)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"total",label:"Total",width:"100"}},[t._v("\n                  "+t._s(e.row.total)+"\n              ")])]}}])})],1)]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Estado")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.enums[t.invc.estado]))])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("b-table",{attrs:{data:t.totals||[],bordered:!0,narrowed:!0,"mobile-cards":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"title"}},[t._v("\n                  "+t._s(e.row.title)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"value",numeric:""}},[t._v("\n                  "+t._s(e.row.value)+"\n              ")])]}}])})],1)])])},s=[]},1524:function(t,e,a){"use strict";function n(t){a(1525)}var s=a(177),i=a(1526),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1525:function(t,e){},1526:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isUpdating,canCancel:!0},on:{"update:active":function(e){t.isUpdating=e}}}),t._v(" "),t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:t.formUid,initial:t.invc},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",{staticClass:"title"},[t._v("Invoice")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])])],1)],1)},s=[]},1527:function(t,e,a){"use strict";function n(t){a(1528)}var s=a(178),i=a(1529),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1528:function(t,e){},1529:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:t.formUid,initial:t.permissionsField},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",[t._v(t._s(t.invc.nombre))]),t._v(" "),a("h5",[t._v("Sus Permisos por Recurso")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[t._l(t.resources,function(e){return a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v(t._s(e))]),t._v(" "),a("formulate-element",{staticClass:"select is-small is-focused",attrs:{name:e,type:"select",initial:"0",options:t.levels}})],1)])}),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)],2)])],1)],1)},s=[]},153:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n="products",s="products/list",i={};i.Product=[n,s],e.c=i},1530:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("nav",{staticClass:"panel"},[a("p",{staticClass:"panel-heading"},[a("span",{staticClass:"is-size-6"},[t._v("Registro #"+t._s(t.p(t.id).codigo))])]),t._v(" "),a("b-tabs",{model:{value:t.activeSubTab,callback:function(e){t.activeSubTab=e},expression:"activeSubTab"}},[a("b-tab-item",[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-outlined"},[a("b-icon",{attrs:{icon:"eye"}})],1)]),t._v(" "),a("invoice-record",{attrs:{invc:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAlter()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-info is-outlined"},[a("b-icon",{attrs:{icon:"edit"}})],1)]),t._v(" "),a("invoice-update",{attrs:{invc:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAssign()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-warning has-text-weight-bold is-outlined"},[a("b-icon",{attrs:{icon:"lock"}})],1)]),t._v(" "),a("invoice-auth",{attrs:{invc:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAssign()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-danger is-outlined"},[a("b-icon",{attrs:{icon:"trash"}})],1)]),t._v('\n        The record for "'+t._s(t.p(t.id).nombre)+'" will be marked for deletion, will no longer appear in the invoices list, but will be kept for historical purposes.\n\n        '),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("a",{staticClass:"button is-info",on:{click:function(e){t.activeSubTab=0}}},[t._v("Go back")])])]),t._v(" "),a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item has-text-centered"},[a("a",{staticClass:"button is-danger"},[t._v("Yes, Delete")])])])])],2)],1)],1)])},s=[]},1531:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isBusy,canCancel:!0},on:{"update:active":function(e){t.isBusy=e}}}),t._v(" "),a("b-table",{attrs:{data:t.isEmpty?[]:t.formattedInvoices,columns:t.columns,striped:!0,paginated:"","per-page":20,"current-page":1,"opened-detailed":t.defaultOpenedDetails,detailed:"","detail-key":"codigo",focusable:"",narrowed:!0,"mobile-cards":t.hasMobileCards},on:{"details-open":function(e,a){return t.$toast.open("Expanded "+e.nombre)}},scopedSlots:t._u([{key:"header",fn:function(e){return[a("b-tooltip",{attrs:{position:"is-left",active:!!e.column.meta,label:e.column.meta,dashed:""}},[t._v("\n        "+t._s(e.column.label)+"\n      ")])]}},{key:"detail",fn:function(t){var e=t.row;return[a("invoice-detail",{attrs:{id:e.codigo}})]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered",staticStyle:{"font-size":"large"}},[a("icon",{attrs:{scale:"3",name:"thumbs-down"}}),t._v(" "),a("p",[t._v("No results")])],1)])])],2),t._v(" "),a("div",{staticClass:"control cardMode"},[a("b-switch",{model:{value:t.hasMobileCards,callback:function(e){t.hasMobileCards=e},expression:"hasMobileCards"}},[t._v("Modo tarjeta "),a("small",[t._v("(filas estrechas)")])])],1),t._v(" "),a("div",{staticClass:"block"},[a("button",{staticClass:"button is-small is-primary",on:{click:function(e){t.columnSelectorOpen=!t.columnSelectorOpen}}},[t._v("\n        Escoger Columnas\n    ")])]),t._v(" "),a("b-collapse",{staticClass:"panel",attrs:{open:t.columnSelectorOpen},on:{"update:open":function(e){t.columnSelectorOpen=e}}},[a("ul",[a("b-field",{attrs:{grouped:"","group-multiline":""}},t._l(t.columns,function(e,n){return a("div",{key:n,staticClass:"control"},[a("li",[a("b-checkbox",{model:{value:e.visible,callback:function(a){t.$set(e,"visible",a)},expression:"column.visible"}},[t._v("\n              "+t._s(e.meta)+"\n            ")])],1)])}))],1)])],1)},s=[]},1532:function(t,e,a){"use strict";function n(t){a(1533)}var s=a(181),i=a(1541),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-077cd344",null);e.a=c.exports},1533:function(t,e){},1534:function(t,e,a){"use strict";var n=a(184),s=a(1535),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1535:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.internalValue,expression:"internalValue"}],attrs:{type:"text"},domProps:{value:t.internalValue},on:{input:function(e){e.target.composing||(t.internalValue=e.target.value)}}})},s=[]},1536:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("vue-awesomplete",{ref:"choices",attrs:{setting:t.options},on:{selectcomplete:function(e){t.$emit("input",t.$refs.choices.internalValue)}}})},s=[]},1537:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-date-picker",{ref:"datePicked",attrs:{formats:t.formats,mode:"single"},on:{input:t.datePick},model:{value:t.theDate,callback:function(e){t.theDate=e},expression:"theDate"}})},s=[]},1538:function(t,e,a){"use strict";function n(t){a(1539)}var s=a(187),i=a(1540),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1539:function(t,e){},154:function(t,e,a){"use strict";a.d(e,"c",function(){return n}),a.d(e,"b",function(){return s}),a.d(e,"a",function(){return i});var n="invoices/list",s="invoices",i="invoice",o={};o.Invoice=[s,i,n],e.d=o},1540:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("formulate",{staticClass:"my-form",attrs:{name:"invoiceDetails"},on:{submit:t.saveForm}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"title"},[t._v("Item")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-four-fifths"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Producto / Servicio")]),t._v(" "),a("formulate-element",{staticClass:"select is-small is-focused",attrs:{name:"code",type:"select",initial:"nombre",options:t.typesId}})],1)]),t._v(" "),a("div",{staticClass:"column is-one-fifth"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Cantidad")]),t._v(" "),a("formulate-element",{attrs:{name:"qty",placeholder:"cantidad","element-classes":"resizedTextbox"}})],1)])])]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Close")]),t._v(" "),a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])],1)},s=[]},1541:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isCreating,canCancel:!0},on:{"update:active":function(e){t.isCreating=e}}}),t._v(" "),a("formulate",{staticClass:"my-form",attrs:{name:"createInvoice"},on:{submit:t.commitForm}},[a("formulate-element",{attrs:{name:"summation",type:"hidden",placeholder:"-1"}}),t._v(" "),a("formulate-element",{attrs:{name:"items",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",{staticClass:"title"},[t._v("Invoice")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-centered"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Cliente")]),t._v(" "),a("formulate-element",{attrs:{name:"Persona",validation:"required"}},[a("autocomplete-input",{attrs:{options:t.personsId||null},model:{value:t.Persona,callback:function(e){t.Persona=e},expression:"Persona"}})],1)],1)]),t._v(" "),a("div",{staticClass:"column is-centered"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Fecha")]),t._v(" "),a("formulate-element",{attrs:{name:"InvoiceDate",validation:"required"}},[a("dateselect-input",{model:{value:t.InvoiceDate,callback:function(e){t.InvoiceDate=e},expression:"InvoiceDate"}})],1)],1)]),t._v(" "),a("div",{staticClass:"column is-centered"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Descuento")]),t._v(" "),a("formulate-element",{attrs:{name:"desc",placeholder:"0","element-classes":"resizedTextbox",validation:"isPct(desc)"}})],1)])]),t._v(" "),a("div",{staticClass:"columns is-mobile"},[a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("Itemes")]),t._v(" "),a("button",{staticClass:"button is-info",on:{click:t.openModal}},[a("b-icon",{attrs:{icon:"plus"}}),t._v(" "),a("span",[t._v("Anadir item")])],1),t._v(" "),a("button",{staticClass:"button field is-danger",attrs:{disabled:!t.checkedRows.length},on:{click:t.dropRow}},[a("b-icon",{attrs:{icon:"trash"}}),t._v(" "),a("span",[t._v("Borrar seleccionadas")])],1),t._v(" "),a("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(e){t.isComponentModalActive=e}}},[a("detailsForm")],1),t._v(" "),a("b-table",{attrs:{data:t.tableData,"checked-rows":t.checkedRows,checkable:""},on:{"update:checkedRows":function(e){t.checkedRows=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:"Codigo",numeric:""}},[t._v("\n                    "+t._s(e.row.codigo)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Producto/Servicio"}},[t._v("\n                    "+t._s(e.row.nombre)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Unidad"}},[t._v("\n                    "+t._s(e.row.unidad)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Valor",numeric:""}},[t._v("\n                    "+t._s(e.row.valor)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"IVA",numeric:""}},[t._v("\n                    "+t._s(e.row.iva.str)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Cantidad",centered:""}},[t._v("\n                    "+t._s(e.row.cantidad)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Total",numeric:""}},[t._v("\n                    "+t._s(e.row.total)+"\n                  ")])]}}])},[a("template",{slot:"footer"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-offset-2 is-narrow-mobile"},[a("div",{staticClass:"box",staticStyle:{width:"125px"}},[t.retention?a("div",{class:["si"===t.retention?"":"strike-out"]},[t._v("\n                          Retencion\n                        ")]):t._e(),t._v(" "),t.distributor?a("div",{class:["si"===t.distributor?"":"strike-out"]},[t._v("\n                          Distribuidor\n                        ")]):t._e()])]),t._v(" "),a("div",{staticClass:"column is-5"},[a("div",{staticClass:"box"},[a("b-table",{attrs:{data:t.totals},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{width:"180"}},[t._v("\n                                "+t._s(e.row.label)+"\n                            ")]),t._v(" "),a("b-table-column",{attrs:{numeric:""}},[t._v("\n                              "+t._s(e.row.value)+"\n                            ")])]}}])})],1)]),t._v(" "),a("div",{staticClass:"column is-1"})])])],2),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)],1)])])],1)],1)},s=[]},1542:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("b-tab-item",{attrs:{label:"Invoices"}},[a("router-view",{attrs:{name:"invoicesList"}})],1),t._v(" "),a("b-tab-item",{attrs:{visible:t.canEdit(),label:"Add Invoice"}},[a("Create")],1)],1),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"home"}}},[a("icon",{attrs:{name:"arrow-circle-up"}}),t._v("\n     Home\n  ")],1)],1)},s=[]},1543:function(t,e,a){"use strict";e.a=[{meta:"Codigo",label:"COD",field:"codigo",centered:!1,visible:!0,width:5,numeric:!0,type:"integer",usage:"rw",idx:0},{meta:"Fecha",label:"FECH",field:"fecha",centered:!0,visible:!0,width:"10",numeric:!1,type:"date",usage:"rw",idx:1},{meta:"Estado",label:"ESTS",field:"estado",centered:!0,visible:!1,width:10,numeric:!1,type:"text",usage:"rw",idx:2},{meta:"Codigo Cliente",label:"CCLI",field:"codigo_cliente",centered:!0,visible:!0,width:6,numeric:!1,type:"foreignKey1",usage:"rw",idx:3},{meta:"Distribuidor",label:"DIST",field:"distribuidor",centered:!0,visible:!0,width:4,numeric:!1,type:"text",usage:"rw",idx:4},{meta:"Descuento Especial",label:"DESC",field:"descuento_especial",centered:!1,visible:!1,width:12,numeric:!0,type:"percent",usage:"rw",idx:5},{meta:"Lista de Items",label:"ITMS",field:"lista_de_items",centered:!0,visible:!1,width:4,numeric:!0,type:"JSON1",usage:"rw",idx:6},{meta:"Subtotal IVA 12%",label:"IV12",field:"subtotal_iva_12",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:7},{meta:"Subtotal IVA 0%",label:"IV00",field:"subtotal_iva_0",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:8},{meta:"Subtotal Descontado",label:"STDC",field:"subtotal_descontado",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:9},{meta:"Total Calculado",label:"TOTL",field:"total_calculado",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:10},{meta:"Retenido",label:"RETN",field:"retenido",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:11},{meta:"Monto Final",label:"MNTO",field:"monto_final",centered:!1,visible:!0,width:12,numeric:!0,type:"usd",usage:"rw",idx:12},{meta:"Total Cobrado",label:"COBR",field:"total_cobrado",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:13}]},1544:function(t,e){},1545:function(t,e,a){"use strict";function n(t){a(1546)}var s=a(191),i=a(1547),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1546:function(t,e){},1547:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isKnown&&t.isHere?a("div",[a("a",{staticClass:"button is-small",class:t.highLightAdmin,attrs:{"data-cyp":"logOut"},on:{click:t.signOut}},[a("span",{attrs:{name:"icon"}},[a("icon",{attrs:{name:"sign-out-alt"}})],1),t._v(" "+t._s(t.$t("label.signout"))+", "+t._s(t.user)+"\n    ")])]):a("div",[t._v("\n     \n    "),a("a",{staticClass:"button is-small",attrs:{"data-cyp":"logIn"},on:{click:t.logIn}},[a("icon",{attrs:{name:"sign-in-alt"}}),t._v("\n       "+t._s(t.$t("label.signin"))+"\n    ")],1)])])},s=[]},1548:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"hdr"}},[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("router-link",{attrs:{to:{name:"home"}}},[a("img",{attrs:{src:"static/img/WaterDrop_50.png",alt:"Iridium Blue Logo"}}),t._v(" "),a("span",{staticStyle:{"font-family":"'Advent Pro'","font-size":"48px"},attrs:{"data-cyp":"appTitle"}},[t._v("iridium blue")])])],1)]),t._v(" "),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("accessControl")],1)])]),t._v(" "),a("b-collapse",{attrs:{id:"divTbl",open:!0}},[a("button",{staticClass:"button is-small is-primary",attrs:{slot:"trigger"},slot:"trigger"},[t._v("Authorizations Tester")]),t._v(" "),a("div",[a("table",{staticClass:"table is-narrow is-hoverable is-size-6",attrs:{id:"axsCtrl"}},[a("thead",[a("tr",[a("th",{attrs:{id:"colRsrc"}},[t._v("Resource")]),t._v(" "),a("th",{attrs:{id:"colPrvlg"}},[t._v("Privilege")])])]),t._v(" "),a("tbody",t._l(t.axsLvlTblDef,function(e){return a("tr",[a("th",{staticClass:"is-size-7",attrs:{id:"colRsrc"}},[t._v(t._s(e.name))]),t._v(" "),a("td",{attrs:{id:"colPrvlg"}},[a("b-field",[a("b-select",{staticClass:"is-size-7",attrs:{placeholder:e.name},model:{value:t.axsLvl[e.name],callback:function(a){t.$set(t.axsLvl,e.name,a)},expression:"axsLvl[row.name]"}},t._l(t.axsLvls,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                     "+t._s(e.axs)+"\n                    ")])}))],1)],1),t._v(" "),a("td",{staticClass:"is-info is-hidden"},[t._v(t._s(t.axsLvls[t.axsLvl[e.name]].axs))])])})),t._v(" "),a("tfoot",{staticClass:"is-hidden"},[a("tr",[a("th",{attrs:{id:"colRsrc"}},[t._v("Resource")]),t._v(" "),a("th",{attrs:{id:"colPrvlg"}},[t._v("Privilege")])])])])])]),t._v(" "),a("div",[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],attrs:{type:"radio",name:"role",value:"admin"},domProps:{checked:t._q(t.role,"admin")},on:{change:[function(e){t.role="admin"},t.onRoleChange]}}),t._v(" "),a("label",[t._v("Admin")])]),t._v(" "),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],attrs:{type:"radio",name:"role",value:"user"},domProps:{checked:t._q(t.role,"user")},on:{change:[function(e){t.role="user"},t.onRoleChange]}}),t._v(" "),a("label",[t._v("Regular User")])]),t._v(" "),a("ul",{attrs:{"is-pulled-left":""}},[a("li",[a("b-icon",{attrs:{size:"is-small",icon:"unlock-alt"}}),t._v(" "),a("router-link",{attrs:{to:{name:"protected"}}},[t._v("\n            Protected\n          ")])],1),t._v(" "),a("li",[a("b-icon",{attrs:{size:"is-small",icon:"user-secret"}}),t._v(" "),a("router-link",{attrs:{to:{name:"classified"}}},[t._v("\n            Classified\n          ")])],1)])])],1)},s=[]},1549:function(t,e,a){"use strict";var n=a(192),s=a(1552),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},155:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return s});var n="protected",s="classified",i={};i.Example=[n,s],e.c=i},1550:function(t,e){t.exports=["A","Aasgem","Abfieseln","Almrausch","An","Au","Auf","Auffisteign","Baamwach","Back","Bavariae","Bayer","Beidl","Berg","Bia","Biagadn","Biakriagal","Biaschlegl","Biawambn","Biazelt","Bitt","Bladl","Blosmusi","Bradwurschtsemmal","Breihaus","Brezn","Broadwurschtbudn","Brodzeid","Brotzeit","Bua","Buachbinda","Buam","Bussal","Charivari","Damischa","Deandl","Deandlgwand","Des","Di","Diandldrahn","Do","Dog","Edlweiss","Engelgwand","Enzian","Ewig","Fensdaln","Fingahaggln","Foidweg","Freibia","Fünferl","Gams","Gamsbart","Gar","Gaudi","Gelbe","Giasinga","Gidarn","Gipfe","Gmiadlichkeit","Goaßmaß","God","Godds","Gott","Graudwiggal","Greaßt","Greichats","Griasd","Griasnoggalsubbm","Gscheckate","Gschicht","Gschmeidig","Gstanzl","Guglhupf","Gwiass","Habedehre","Haberertanz","Haferl","Hawadere","Heimatland","Heiwog","Hemad","Hendl","Hetschapfah","Hi","Hoam","Hob","Hoiwe","I","Im","In","Jodler","Kaiwe","Kimmt","Kini","Kirwa","Klampfn","Kneedl","Koa","Kuaschwanz","Landla","Ledahosn","Leit","Lem","Leonhardifahrt","Lewakaas","Luja","Ma","Maderln","Maibam","Mamalad","Marei","Marterl","Maß","Maßkruag","Mehra","Meidromml","Mim","Mongdratzal","Mordsgaudi","Musi","Namidog","Nia","Nimma","Nix","Oachkatzlschwoaf","Obandeln","Obandln","Obazda","Ohrwaschl","Oim","Prosd","Prosit","Radi","Radl","Radler","Ramasuri","Reiwadatschi","Resi","Rüam","Samma","Sauakraud","Sauwedda","Schaung","Schbozal","Schdarmbeaga","Schdeckalfisch","Schellnsau","Schichtl","Schmankal","Schmarn","Schnacksln","Schneid","Schorsch","Schuabladdla","Schwoanshaxn","See","Sei","Semmlkneedl","Sepp","Servas","Singan","So","Sodala","Sog","Sonn","Spezi","Spotzerl","Spuiratz","Steckerleis","Stubn","Suri","Sünd","Tag","Trachtnhuat","Umma","Vergeltsgott","Wanninger","Watschnbaam","Watschnpladdla","Wea","Weibaleid","Weiznglasl","Weißwiaschd","Wia","Wiesn","Woibbadinga","Wolpern","Wos","Wuascht","Wurscht","Wurschtsolod","Xaver","Zidern","Zwedschgndadschi","a","aa","aasgem","aba","abfieseln","acht'n","af","allerweil","am","amoi","an","anbandeln","aso","auf","auf'd","auf'n","auffi","ausgähd","auszutzeln","aweng","baamwach","back","baddscher","barfuaßat","basd","beim","beinand","biawambn","biazelt","bin","bissal","bitt","bittschön","bloß","blärrd","boarischer","bravs","brodzeid","brotzeit","bussal","charivari","d'","da","daad","dadst","dahoam","damischa","daugn","de","dea","deandlgwand","ded","dee","dei","denn","der","des","di","dijidiholleri","do","drei","dringma","du","eam","eana","ebba","eich","enzian","es","etza","ewig","fei","fensdaln","fescha","fias","foahn","freibia","fui","g'hupft","gamsbart","ganze","gar","gaudi","gean","geh","gehd","gehds","gelbe","gfoids","gfreit","ghupft","gibt's","glacht","glei","gmahde","goaßmaß","gor","graudwiggal","greana","greaßt","griagd","griasd","griaß","großherzig","gscheckate","gscheid","gscheit","gschicht","gschmeidig","gsprunga","gsuffa","guad","gwihss","gwiss","hab","haferl","hallelujah","ham","hawadere","hea","heid","heitzdog","helfgod","hemad","hera","hetschapfah","hi","hinter'm","hoam","hob","hod","hog","hogg","hoggd","hoid","huift","i","iabaroi","im","imma","in","is","ja","jedza","jo","kenna","kimmt","kloan","ko","koa","kost","kuaschwanz","kumm","kummd","kummt","landla","leck","ledahosn","legst","lem","liab","liabs","liberalitas","lossn","luja","lustiga","ma","maibam","marei","marterl","mas","maßkruag","measi","mechad","mehra","mei","meidromml","mi","midanand","midananda","middn","midnand","mim","moan","moand","mog","mogsd","muas","muass","naa","nacha","nachad","nackata","narrisch","ned","need","nei","nia","nieda","nimma","nimmds","nix","no","noch","nois","nomoi","o'ha","oa","oamoi","oans","oba","obacht","obandeln","obandln","ognudelt","oiwei","ollaweil","om","owe","ozapfa","pfenningguat","pfiad","pfundig","prosd","radi","radler","red","resch","sagrisch","samma","sammawiedaguad","san","sauakraud","sauba","sauwedda","schaugn","schdarmbeaga","scheans","schee","schnacksln","scho","schoo","schorsch","schuabladdla","schuf","schüds","sei","sepp","singan","singd","so","sodala","sog","soi","soweid","sowos","spernzaln","spezi","spotzerl","trihöleridi","um","umananda","umma","unbandig","und","uns","vasteh","vo","von","vui","waar","wann","wea","weibaleid","weida","wia","wiad","wiavui","wirds","wo","woar","woass","woaß","wolln","wolpern","wos","woschechta","wui","wuid","wujn","wurschtsolod","z'dringa","zamm","zua","zwoa","zünftig"]},1551:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{class:"article-"+t.article.id},[a("router-link",{attrs:{to:{name:"article",params:{id:t.article.id}}}},[a("h1",[t._v(t._s(t.article.title))])]),t._v(" "),a("p",[a("a",{staticClass:"edit-article",attrs:{href:"javascript:void(0);"},on:{click:t.onEdit}},[t._v("Edit (PATCH)")]),t._v("\n    |\n    "),a("a",{staticClass:"replace-article",attrs:{href:"javascript:void(0);"},on:{click:t.onReplace}},[t._v("Replace (PUT)")]),t._v("\n    |\n    "),a("a",{staticClass:"delete-article",attrs:{href:"javascript:void(0);"},on:{click:t.onDelete}},[t._v("Delete")])]),t._v(" "),a("p",{staticClass:"content"},[t._v(t._s(t.article.content))]),t._v(" "),a("hr")],1)},s=[]},1552:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("button",{staticClass:"fetch-articles",attrs:{"data-cyp":"fetch-articles"},on:{click:t.onFetchArticles}},[t._v("Fetch Articles")]),t._v(" "),a("button",{staticClass:"create-article",on:{click:t.onCreateArticle}},[t._v("Create New Article")]),t._v(" "),t.articles.length?a("div",{attrs:{id:"articles"}},t._l(t.articles,function(t){return a("blog-article",{key:t.id,attrs:{article:t}})})):t._e()])},s=[]},1553:function(t,e,a){"use strict";var n=a(196),s=a(1554),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1554:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{attrs:{id:"article"}},[a("p",{staticClass:"back"},[a("router-link",{attrs:{to:{name:"blog"}}},[t._v("Back to Articles")])],1),t._v(" "),t.currentArticle?a("blog-article",{attrs:{article:t.currentArticle}}):t._e()],1)},s=[]},1555:function(t,e,a){"use strict";function n(t){a(1556)}var s=a(198),i=a(1567),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1556:function(t,e){},1557:function(t,e,a){"use strict";var n=a(199),s=a(1566),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1558:function(t,e){},1559:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Codigo")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.codigo))])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Fecha")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.fecha))])])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Cliente")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.codigo_cliente))]),t._v(" "),a("p",{class:["si"===t.invc.distribuidor?"has-text-info":"is-invisible"]},[t._v("\n            Distribuidor\n          ")])])]),t._v(" "),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Mail")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.invc.email))])])])])]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-item has-text-centered"},[a("b-table",{attrs:{data:t.detail,narrowed:!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"cant",label:"Cantidad",width:"10",numeric:""}},[t._v("\n                  "+t._s(e.row.cantidad)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"nombre",label:"Nombre",width:"400"}},[t._v("\n                  ("+t._s(e.row.codigo)+") "+t._s(e.row.nombre)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"nombre",label:"Unidades"}},[t._v("\n                  "+t._s(e.row.unidad)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"precio",label:"Precio",width:"100"}},[t._v("\n                  "+t._s(e.row.precio)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"descuento",label:"Descuento Especial",width:"10"}},[t._v("\n                  "+t._s(e.row.descuento)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"total",label:"Total",width:"100"}},[t._v("\n                  "+t._s(e.row.total)+"\n              ")])]}}])})],1)]),t._v(" "),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left has-text-centered"},[a("div",[a("p",{staticClass:"heading"},[t._v("Estado")]),t._v(" "),a("p",{staticClass:"is-size-5"},[t._v(t._s(t.enums[t.invc.estado]))])])]),t._v(" "),a("div",{staticClass:"level-item has-text-centered"},[a("b-table",{attrs:{data:t.totals||[],bordered:!0,narrowed:!0,"mobile-cards":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"title"}},[t._v("\n                  "+t._s(e.row.title)+"\n              ")]),t._v(" "),a("b-table-column",{attrs:{field:"value",numeric:""}},[t._v("\n                  "+t._s(e.row.value)+"\n              ")])]}}])})],1)])])},s=[]},156:function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"c",function(){return s}),a.d(e,"b",function(){return i}),a.d(e,"a",function(){return o});var n="bottles/test",s="bottles/list",i="bottles",o="bottle",r={};r.Bottle=[i,o,s,n],e.e=r},1560:function(t,e,a){"use strict";function n(t){a(1561)}var s=a(202),i=a(1562),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1561:function(t,e){},1562:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isUpdating,canCancel:!0},on:{"update:active":function(e){t.isUpdating=e}}}),t._v(" "),t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:t.formUid,initial:t.invc},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",{staticClass:"title"},[t._v("Bottle")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])])],1)],1)},s=[]},1563:function(t,e,a){"use strict";function n(t){a(1564)}var s=a(203),i=a(1565),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1564:function(t,e){},1565:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:t.formUid,initial:t.permissionsField},on:{submit:t.saveForm}},[a("formulate-element",{attrs:{name:"codigo",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",[t._v(t._s(t.invc.nombre))]),t._v(" "),a("h5",[t._v("Sus Permisos por Recurso")]),t._v(" "),a("div",{staticClass:"columns is-mobile is-multiline is-centered"},[t._l(t.resources,function(e){return a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v(t._s(e))]),t._v(" "),a("formulate-element",{staticClass:"select is-small is-focused",attrs:{name:e,type:"select",initial:"0",options:t.levels}})],1)])}),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)],2)])],1)],1)},s=[]},1566:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("nav",{staticClass:"panel"},[a("p",{staticClass:"panel-heading"},[a("span",{staticClass:"is-size-6"},[t._v("Registro #"+t._s(t.p(t.id).codigo))])]),t._v(" "),a("b-tabs",{model:{value:t.activeSubTab,callback:function(e){t.activeSubTab=e},expression:"activeSubTab"}},[a("b-tab-item",[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-outlined"},[a("b-icon",{attrs:{icon:"eye"}})],1)]),t._v(" "),a("bottle-record",{attrs:{invc:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAlter()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-info is-outlined"},[a("b-icon",{attrs:{icon:"edit"}})],1)]),t._v(" "),a("bottle-update",{attrs:{invc:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAssign()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-warning has-text-weight-bold is-outlined"},[a("b-icon",{attrs:{icon:"lock"}})],1)]),t._v(" "),a("bottle-auth",{attrs:{invc:t.p(t.id)}})],2),t._v(" "),a("b-tab-item",{attrs:{visible:t.canAssign()}},[a("template",{slot:"header"},[a("p",{staticClass:"button is-small is-danger is-outlined"},[a("b-icon",{attrs:{icon:"trash"}})],1)]),t._v('\n        The record for "'+t._s(t.p(t.id).nombre)+'" will be marked for deletion, will no longer appear in the bottles list, but will be kept for historical purposes.\n\n        '),a("nav",{staticClass:"level"},[a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item has-text-centered"},[a("a",{staticClass:"button is-info",on:{click:function(e){t.activeSubTab=0}}},[t._v("Go back")])])]),t._v(" "),a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item has-text-centered"},[a("a",{staticClass:"button is-danger"},[t._v("Yes, Delete")])])])])],2)],1)],1)])},s=[]},1567:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isBusy,canCancel:!0},on:{"update:active":function(e){t.isBusy=e}}}),t._v(" "),a("b-table",{attrs:{data:t.isEmpty?[]:t.formattedBottles,columns:t.columns,striped:!0,paginated:"","per-page":20,"current-page":1,"opened-detailed":t.defaultOpenedDetails,detailed:"","detail-key":"codigo",focusable:"",narrowed:!0,"mobile-cards":t.hasMobileCards},on:{"details-open":function(e,a){return t.$toast.open("Expanded "+e.nombre)}},scopedSlots:t._u([{key:"header",fn:function(e){return[a("b-tooltip",{attrs:{position:"is-left",active:!!e.column.meta,label:e.column.meta,dashed:""}},[t._v("\n        "+t._s(e.column.label)+"\n      ")])]}},{key:"detail",fn:function(t){var e=t.row;return[a("bottle-detail",{attrs:{id:e.codigo}})]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered",staticStyle:{"font-size":"large"}},[a("icon",{attrs:{scale:"3",name:"thumbs-down"}}),t._v(" "),a("p",[t._v("No results")])],1)])])],2),t._v(" "),a("div",{staticClass:"control cardMode"},[a("b-switch",{model:{value:t.hasMobileCards,callback:function(e){t.hasMobileCards=e},expression:"hasMobileCards"}},[t._v("Modo tarjeta "),a("small",[t._v("(filas estrechas)")])])],1),t._v(" "),a("div",{staticClass:"block"},[a("button",{staticClass:"button is-small is-primary",on:{click:function(e){t.columnSelectorOpen=!t.columnSelectorOpen}}},[t._v("\n        Escoger Columnas\n    ")])]),t._v(" "),a("b-collapse",{staticClass:"panel",attrs:{open:t.columnSelectorOpen},on:{"update:open":function(e){t.columnSelectorOpen=e}}},[a("ul",[a("b-field",{attrs:{grouped:"","group-multiline":""}},t._l(t.columns,function(e,n){return a("div",{key:n,staticClass:"control"},[a("li",[a("b-checkbox",{model:{value:e.visible,callback:function(a){t.$set(e,"visible",a)},expression:"column.visible"}},[t._v("\n              "+t._s(e.meta)+"\n            ")])],1)])}))],1)])],1)},s=[]},1568:function(t,e,a){"use strict";function n(t){a(1569)}var s=a(204),i=a(1570),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1569:function(t,e){},157:function(t,e,a){"use strict";for(var n=a(149),s=a.n(n),i=(console.log,["reassign","delete","edit","view","none"]),o=["Do Nothing","Only View","Comment","Alter","Assign"],r={},c=[],l=0;l<o.length;l+=1){var u=o[l];r[u.toUpperCase().split(" ").join("_")]=l,c.push({name:u,value:l,id:l,label:u})}r.alvls=o,r.options=c,r.olvls=s()(o,function(t,e){return{id:e,axs:t}}),r.aliases=function(t){for(var e=t.map(function(t){return t.toLowerCase().split(" ").join("_")}),a=0,n={};a<i.length-1;)n[i[a]]=s()(e),a+=1,e.pop();return n}(o),r.idxAliases=i.reverse(),e.a=r},1570:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dialog-window"}},[a("div",{staticClass:"container is-fluid",attrs:{id:"header"}},[a("nav",{staticClass:"level"},[a("div",{staticClass:"level-left"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"level-item"},[a("b-input",{attrs:{placeholder:"codigo de envase"},on:{focus:t.seekCodigoFocus,blur:t.seekCodigoBlur},model:{value:t.seekCodigo,callback:function(e){t.seekCodigo=e},expression:"seekCodigo"}}),t._v(" "),a("strong",[t._v(t._s(t.seekIndicator))])],1)]),t._v(" "),a("div",{staticClass:"level-right"},[a("p",{staticClass:"level-item"},[a("strong",[t._v(t._s(t.items.length))])])])])]),t._v(" "),a("div",{attrs:{id:"scrollable-content"}},[a("virtual-scroller",{staticClass:"virtual-list",attrs:{"page-mode":"",items:t.items||[],"item-height":"24","content-tag":"ul"},scopedSlots:t._u([{key:"default",fn:function(e){return["planta"===e.item.ubicacion.toLowerCase()?a("li",{key:e.itemKey},[t._v("\n            "+t._s(e.item.codigo)+" - ubicacion: Planta\n          ")]):a("li",{key:e.itemKey},[t._v("\n            "+t._s(e.item.codigo)+" - ubicacion: "),a("strong",[t._v(t._s(e.item.ultimo))])])]}}])})],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"level-item"},[a("p",{staticClass:"subtitle is-6 is-primary"},[a("strong",[t._v("Buscar Envase")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"level-item"},[a("p",{staticClass:"subtitle is-7"},[a("strong",[t._v("Codigo")])])])}]},1571:function(t,e,a){"use strict";var n=a(205),s=a(1578),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1572:function(t,e,a){"use strict";function n(t){a(1573)}var s=a(206),i=a(1577),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-ed5c9a52",null);e.a=c.exports},1573:function(t,e){},1574:function(t,e,a){"use strict";function n(t){a(1575)}var s=a(207),i=a(1576),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1575:function(t,e){},1576:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[a("formulate",{staticClass:"my-form",attrs:{name:"bottleDetails"},on:{submit:t.saveForm}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"title"},[t._v("Item")])]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-four-fifths"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Producto / Servicio")]),t._v(" "),a("formulate-element",{staticClass:"select is-small is-focused",attrs:{name:"code",type:"select",initial:"nombre",options:t.typesId}})],1)]),t._v(" "),a("div",{staticClass:"column is-one-fifth"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Cantidad")]),t._v(" "),a("formulate-element",{attrs:{name:"qty",placeholder:"cantidad","element-classes":"resizedTextbox"}})],1)])])]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Close")]),t._v(" "),a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])],1)},s=[]},1577:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-loading",{attrs:{"is-full-page":!1,active:t.isCreating,canCancel:!0},on:{"update:active":function(e){t.isCreating=e}}}),t._v(" "),a("formulate",{staticClass:"my-form",attrs:{name:"createBottle"},on:{submit:t.commitForm}},[a("formulate-element",{attrs:{name:"summation",type:"hidden",placeholder:"-1"}}),t._v(" "),a("formulate-element",{attrs:{name:"items",type:"hidden",placeholder:"-1"}}),t._v(" "),a("article",{staticClass:"tile is-child box"},[a("h3",{staticClass:"title"},[t._v("Bottle")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-centered"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Cliente")]),t._v(" "),a("formulate-element",{attrs:{name:"Persona",validation:"required"}},[a("autocomplete-input",{attrs:{options:t.personsId||null},model:{value:t.Persona,callback:function(e){t.Persona=e},expression:"Persona"}})],1)],1)]),t._v(" "),a("div",{staticClass:"column is-centered"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Fecha")]),t._v(" "),a("formulate-element",{attrs:{name:"BottleDate",validation:"required"}},[a("dateselect-input",{model:{value:t.BottleDate,callback:function(e){t.BottleDate=e},expression:"BottleDate"}})],1)],1)]),t._v(" "),a("div",{staticClass:"column is-centered"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Descuento")]),t._v(" "),a("formulate-element",{attrs:{name:"desc",placeholder:"0","element-classes":"resizedTextbox",validation:"isPct(desc)"}})],1)])]),t._v(" "),a("div",{staticClass:"columns is-mobile"},[a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("Itemes")]),t._v(" "),a("button",{staticClass:"button is-info",on:{click:t.openModal}},[a("b-icon",{attrs:{icon:"plus"}}),t._v(" "),a("span",[t._v("Anadir item")])],1),t._v(" "),a("button",{staticClass:"button field is-danger",attrs:{disabled:!t.checkedRows.length},on:{click:t.dropRow}},[a("b-icon",{attrs:{icon:"trash"}}),t._v(" "),a("span",[t._v("Borrar seleccionadas")])],1),t._v(" "),a("b-modal",{attrs:{active:t.isComponentModalActive,"has-modal-card":""},on:{"update:active":function(e){t.isComponentModalActive=e}}},[a("detailsForm")],1),t._v(" "),a("b-table",{attrs:{data:t.tableData,"checked-rows":t.checkedRows,checkable:""},on:{"update:checkedRows":function(e){t.checkedRows=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{label:"Codigo",numeric:""}},[t._v("\n                    "+t._s(e.row.codigo)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Producto/Servicio"}},[t._v("\n                    "+t._s(e.row.nombre)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Unidad"}},[t._v("\n                    "+t._s(e.row.unidad)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Valor",numeric:""}},[t._v("\n                    "+t._s(e.row.valor)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"IVA",numeric:""}},[t._v("\n                    "+t._s(e.row.iva.str)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Cantidad",centered:""}},[t._v("\n                    "+t._s(e.row.cantidad)+"\n                  ")]),t._v(" "),a("b-table-column",{attrs:{label:"Total",numeric:""}},[t._v("\n                    "+t._s(e.row.total)+"\n                  ")])]}}])},[a("template",{slot:"footer"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-offset-2 is-narrow-mobile"},[a("div",{staticClass:"box",staticStyle:{width:"125px"}},[t.retention?a("div",{class:["si"===t.retention?"":"strike-out"]},[t._v("\n                          Retencion\n                        ")]):t._e(),t._v(" "),t.distributor?a("div",{class:["si"===t.distributor?"":"strike-out"]},[t._v("\n                          Distribuidor\n                        ")]):t._e()])]),t._v(" "),a("div",{staticClass:"column is-5"},[a("div",{staticClass:"box"},[a("b-table",{attrs:{data:t.totals},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{width:"180"}},[t._v("\n                                "+t._s(e.row.label)+"\n                            ")]),t._v(" "),a("b-table-column",{attrs:{numeric:""}},[t._v("\n                              "+t._s(e.row.value)+"\n                            ")])]}}])})],1)]),t._v(" "),a("div",{staticClass:"column is-1"})])])],2),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)],1)])])],1)],1)},s=[]},1578:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("b-tab-item",{attrs:{label:"Bottles"}},[a("router-view",{attrs:{name:"bottlesList"}})],1),t._v(" "),a("b-tab-item",{attrs:{visible:t.canEdit(),label:"Add Bottle"}},[a("Create")],1)],1),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"home"}}},[a("icon",{attrs:{name:"arrow-circle-up"}}),t._v("\n     Home\n  ")],1)],1)},s=[]},1579:function(t,e,a){"use strict";e.a=[{meta:"Codigo",label:"COD",field:"codigo",centered:!1,visible:!0,width:5,numeric:!0,type:"integer",usage:"rw",idx:0},{meta:"Fecha",label:"FECH",field:"fecha",centered:!0,visible:!0,width:"10",numeric:!1,type:"date",usage:"rw",idx:1},{meta:"Estado",label:"ESTS",field:"estado",centered:!0,visible:!1,width:10,numeric:!1,type:"text",usage:"rw",idx:2},{meta:"Codigo Cliente",label:"CCLI",field:"codigo_cliente",centered:!0,visible:!0,width:6,numeric:!1,type:"foreignKey1",usage:"rw",idx:3},{meta:"Distribuidor",label:"DIST",field:"distribuidor",centered:!0,visible:!0,width:4,numeric:!1,type:"text",usage:"rw",idx:4},{meta:"Descuento Especial",label:"DESC",field:"descuento_especial",centered:!1,visible:!1,width:12,numeric:!0,type:"percent",usage:"rw",idx:5},{meta:"Lista de Items",label:"ITMS",field:"lista_de_items",centered:!0,visible:!1,width:4,numeric:!0,type:"JSON1",usage:"rw",idx:6},{meta:"Subtotal IVA 12%",label:"IV12",field:"subtotal_iva_12",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:7},{meta:"Subtotal IVA 0%",label:"IV00",field:"subtotal_iva_0",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:8},{meta:"Subtotal Descontado",label:"STDC",field:"subtotal_descontado",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:9},{meta:"Total Calculado",label:"TOTL",field:"total_calculado",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:10},{meta:"Retenido",label:"RETN",field:"retenido",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:11},{meta:"Monto Final",label:"MNTO",field:"monto_final",centered:!1,visible:!0,width:12,numeric:!0,type:"usd",usage:"rw",idx:12},{meta:"Total Cobrado",label:"COBR",field:"total_cobrado",centered:!1,visible:!1,width:12,numeric:!0,type:"usd",usage:"rw",idx:13}]},158:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(1484),r=console.log;e.a={name:"PersonList",beforeMount:function(){r("\n * * Ready to fetch persons * * \n"),this.isLoading||this.persons.length>0||this.onFetchPersons()},props:{tst:"passed in with props"},data:function(){return{anObj:{tst:"passed in as data"},isLoading:!0,isFullPage:!1,isEmpty:!1,defaultOpenedDetails:[123],selected:[][1],columnSelectorOpen:!1}},components:{"person-detail":o.a},computed:s()({},Object(i.c)("person",{persons:"list",columns:"getColumns"}),Object(i.e)("person",{isLoadingList:"isFetchingList",isUpdating:"isUpdating",isCreating:"isCreating"}),{isBusy:function(){return this.isLoadingList||this.isUpdating||this.isCreating}}),methods:s()({},Object(i.b)("person",{fetchPersons:"fetchAll"}),{onFetchPersons:function(){r(" * * Try to fetch persons * *"),this.fetchPersons()}})}},1580:function(t,e,a){"use strict";var n=a(74),s=a.n(n),i=a(1681),o=a(123),r=a(17),c=console.log,l={accessToken:"no token",accessExpiry:null,active:0,authenticated:0,nameUser:"",permissions:"",accessLevel:""},u={axsToken:function(t){return t.accessToken},isActive:function(t){return t.active},isAuthenticated:function(t){return t.authenticated},nameUser:function(t){return t.nameUser},accessExpiry:function(t){return t.accessExpiry},accessLevel:function(t){return t.accessLevel},permissions:function(t){return t.permissions}},d={saveToken:function(t,e){var a=e.token,n=e.payload;n&&(window.lgr.info("Auth(mutation) => Saving jwt. Permissions :: ["+n.permissions+"]"),c(n.permissions),c(t),window.ls.set(r.a.tokenName,a),t.accessToken=a,t.nameUser=n.name,t.permissions=n.permissions,t.accessExpiry=n.exp,t.accessLevel="Iridium Blue"===t.nameUser?"admin":"user",window.ls.set(r.a.authName,1),t.authenticated=1,window.ls.set(r.a.activityName,1),t.active=1)},toSignedOut:function(t){window.lgr.warn("Auth(mutation) :: Requesting to sign out here"),window.ls.set(r.a.tokenName,null),t.accessToken=""},activity:function(t,e){window.lgr.warn("Auth(mutation) :: Changing activity state"),t.active=e,window.ls.set(r.a.activityName,e)},auth:function(t,e){window.lgr.warn("Auth(mutation) :: Changing authentication state"),t.authenticated=e,window.ls.set(r.a.authName,e)}},f={keepTkn:function(t,e){var a=e.token,n=e.ability,i=s.a.decode(a);i&&(t.dispatch("a12n/resetPermissions",{payload:i,ability:n}),t.commit("saveToken",{token:a,payload:i}))},refreshToken:function(t,e){var a=e,n="no token";c("--------------  VALIDATE TOKEN ------------------"),c("pyld"),c(a),a?c(s.a.decode(a)):a="no token";var o=0,l=null,u=null,d=null,f=null;c("check pyld token");try{l=Object(i.a)(a),u=s.a.decode(a).exp,o+=1}catch(t){c("Payload token invalid :: "+t)}c("Check stored token");try{d=window.ls.get(r.a.tokenName,"no token"),f=s.a.decode(t.getters.axsToken).exp,o+=2}catch(t){c("Stored token invalid :: "+t)}var m=void 0;switch(o){case 1:c("Committing token from payload"),n=l;break;case 2:c("Refreshing stored token from payload"),n=d;break;case 3:m=u>f,c("Refreshing "+(m?"payload token":"stored token")+" from payload"),n=m?l:d}t.commit("saveToken",n)},logIn:function(t){var e=(t.commit,t.dispatch);e("setActivity",1),e("authenticate")},authenticate:function(t){var e=(t.commit,t.dispatch,"");window.lgr.info("Auth(action) :: Authenticating... STATIC_PUB"),e=""+r.a.server+r.a.authPath+"?mode=STATIC_PUB";var a=Object({NODE_ENV:"production",STATIC_MODE:"STATIC_PUB"})[r.a.testAuthUrlEnvVar];window.lgr.info("Auth(action) :: Faked authentication URL :: "+a),a&&(e=a),window.location.assign(e),o.default.$route.name.includes("home")||(window.lgr.info("Auth(action) :: Set return route in local storage - "+r.a.returnRouteName+': "'+o.default.$route.name+'"'),window.ls.set(r.a.returnRouteName,o.default.$route.name))},logOut:function(t){var e=t.commit,a=t.dispatch;a("setActivity",0),a("setAuth",0),e("toSignedOut")},setActivity:function(t,e){(0,t.commit)("activity",e)},setAuth:function(t,e){(0,t.commit)("auth",e)},handle401:function(t){var e=(new Date).getTime()/1e3,a=t.state.accessExpiry-e;c("sessionTime  - "+9e5),c("now  - "+e/1e3),c("exp  - "+t.state.accessExpiry),c("remaining  - "+a);var n=a>1?"expired":"remaining validity (secs): "+a;window.lgr.info("Auth(action) handle401:: Token status : "+n),t.state.authenticated<1?(window.lgr.info("Auth(action) handle401:: Not logged in."),t.dispatch("logIn")):a<1?(window.lgr.info("Auth(action) handle401:: Expired token."),t.dispatch("notifyUser",{txt:"Your session expired. Logging you in again.",lvl:"is-warning"}),t.dispatch("logIn")):(window.lgr.info("Auth(action) handle401:: Wrong user??"),window.ls.storage.removeItem(r.a.localStorageNameSpace+r.a.returnRouteName))}};e.a={state:l,getters:u,mutations:d,actions:f}},1584:function(t,e){},1586:function(t,e){},159:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(160),r=a(1487),c=a(1490);console.log;e.a={name:"RUDcards",props:["id"],data:function(){return{activeSubTab:0}},components:{"person-record":o.a,"person-update":r.a,"person-auth":c.a},computed:s()({},Object(i.c)("person",{p:"getPerson"})),methods:{canAlter:function(){return this.$can("alter","person")},canAssign:function(){return this.$can("assign","person")}}}},160:function(t,e,a){"use strict";function n(t){a(1485)}var s=a(161),i=a(1486),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-7a5f59bc",null);e.a=c.exports},161:function(t,e,a){"use strict";e.a={props:{pers:{type:Object,required:!0,default:function(){return{codigo:9999,ruc_cedula:"34-4545",nombre:"asdf asdf asdf asdf",telefono:"23452345",direccion:"asdfasdf",distribuidor:"si",retencion:"no",tipo_de_documento:"RUC"}}}}}},162:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3);console.log;e.a={props:["pers"],data:function(){return{values:!1}},computed:o()({},Object(r.c)("person",{enums:"getEnums"}),Object(r.e)("person",{isUpdating:"isUpdating"}),{formUid:function(){return"pers_"+this.pers.codigo},typesId:function(){var t=[],e=this.enums.DocTypeLookup||{};return s()(e).forEach(function(a){var n=e[a];t.push({name:n,value:a,id:a,label:n})}),t}}),methods:o()({},Object(r.b)("person",{saveForm:"saveForm"}))}},1621:function(t,e){},1622:function(t,e){},1623:function(t,e){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},1627:function(t,e){t.exports={_args:[["elliptic@6.4.0","/home/you/projects/vuesppwa"]],_development:!0,_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_spec:"6.4.0",_where:"/home/you/projects/vuesppwa",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},163:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(26),r=console.log;e.a={props:["pers"],data:function(){return{values:!1}},computed:s()({},Object(i.c)("person",{enums:"getEnums"}),{permissionsField:function(){return r("xxxxxxxxxxxxxxxxxxx this.pers xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"),r(this.pers),r(this.pers.permissions),this.pers.permissions?this.pers.permissions:{}},formUid:function(){return"pers_"+this.pers.codigo},levels:function(){return o.a.options},resources:function(){return r("Resources"),r(o.b),o.b}}),methods:s()({},Object(i.b)("person",{saveForm:"saveForm"}))}},164:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(23),r=a(1496),c=console.log;e.a={name:"Person",components:{Create:r.a},computed:s()({},Object(i.c)("person",{currentTab:"getCurrentTab"}),{activeTab:{get:function(){return o.a.state.person.currentTab},set:function(t){return o.a.dispatch("person/setCurrentTab",t)}}}),methods:s()({qtst:function(){c(" ------- Quick Test -------"),this.onCreatePerson()},canEdit:function(){return this.$can("comment","persons/list")},onCreatePerson:function(){this.createPerson({data:{store:"person",mode:"post",data:{ruc_cedula:"0708217086001",nombre:"Jesu Cristo",direccion:"#1 Pearly Gates",telefono:"099-444-4719",distribuidor:"si",retencion:"si",tipo:"_04",scabetti:"333",tipo_de_documento:"RUC"}}})}},Object(i.b)("person",{createPerson:"create",setTab:"setCurrentTab"}))}},165:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3),c=console.log;e.a={props:["pers"],data:function(){return{values:!1}},computed:o()({},Object(r.c)("person",{enums:"getEnums"}),Object(r.e)("person",{isCreating:"isCreating"}),{typesId:function(){c("CC %%%%%%%%%%%%%%%%%%");var t=[],e=this.enums.DocTypeLookup;return e?s()(e).forEach(function(a){var n=e[a];t.push({name:n,value:a,id:a,label:n})}):t.push({name:"aa",value:"AA",id:"AA-",label:"aa-"}),c(t),t}}),methods:o()({},Object(r.b)("person",{saveForm:"saveForm"}))}},166:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3),c=a(1502),l=console.log;e.a={name:"ProductList",beforeMount:function(){l("\n * * Ready to fetch products * * \n"),this.isLoadingList||this.products.length>0||this.onFetchProducts()},props:{tst:{val:"passed in with props"}},data:function(){return{anObj:{tst:"passed in as data"},isFullPage:!1,isEmpty:!1,defaultOpenedDetails:[123],selected:[][1],columnSelectorOpen:!1}},components:{"product-detail":c.a},computed:o()({},Object(r.c)("product",{products:"list",prod:"getProduct",columns:"getColumns"}),Object(r.c)({loggedIn:"isAuthenticated"}),Object(r.e)("product",{isLoadingList:"isFetchingList",isUpdating:"isUpdating",isCreating:"isCreating"}),{isBusy:function(){return this.isLoadingList||this.isUpdating||this.isCreating},prods:function(){return this.products.map(function(t){var e=t;return s()(e).forEach(function(t){e[t]=e[t].str||e[t]}),e})}}),methods:o()({},Object(r.b)(["handle401","notifyUser"]),Object(r.b)("product",{fetchProducts:"fetchAll",setColumns:"setColumns"}),{onFetchProducts:function(){l(" * * Try to fetch products * *"),this.fetchProducts()}})}},1660:function(t,e){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},167:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3);console.log;e.a={props:["id"],computed:s()({},Object(i.c)("product",{prod:"getProduct",columns:"getColumns"}))}},168:function(t,e,a){"use strict";a(3),console.log;e.a={name:"Product"}},1681:function(t,e,a){"use strict";var n=a(74),s=a.n(n),i=console.log,o=function(t){var e=s.a.decode(t);return i(e),e};e.a=o},1682:function(t,e,a){"use strict";var n=a(1683),s=a(1687),i=a.n(s),o=a(1694),r=a(1698),c=a.n(r),l=a(1703),u=console.log,d=function(t){n.a.plugin(t)},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t;if(!e.localDatabaseName)throw new Error("VuePouchDB Error → local database name is required!");if(!e.remoteDatabaseURI)throw new Error("VuePouchDB Error → remote database URI is required!");n.a.plugin(i.a),n.a.plugin(o.a),n.a.plugin(c.a),n.a.plugin(l.a);var s=new n.a(e.localDatabaseName);s.createIndex({index:{fields:["codigo","type"],name:"idxBottleCode"}}).then(function(t){u("New index "+t),u(t)}).catch(function(t){u("Index creation failure: "+t),u(t)}),s.setSchema([{singular:"aBottle",plural:"allBottles",relations:{author:{belongsTo:"aPerson"}}},{singular:"aPerson",plural:"allPersons",relations:{posts:{hasMany:"aBottle"}}}]),u("---------- localDatabase --------"),u(s),u(s.rel);var r=2655*Math.random()+12345;s.rel.save("aPerson",{_id:"aPerson_"+r,codigo:"123",ruc_cedula:"1713931416001",nombre:"Hasan M. J. Bramwell",direccion:"Tumbaco, Sector la Cerámica",telefono:"237-2748",distribuidor:"no",retencion:"no"}),s.rel.save("aBottle",{_id:"aBottle_"+(2655*Math.random()+12345),codigo:"IBAA001",type:"bottle",fechaCompra:"2014-09-01",ubicacion:"cliente",ent:4,rec:3,ultimo:"aPerson_"+r});var d=new n.a(e.remoteDatabaseURI);s.sync(d,{live:!0}).on("change",function(t){u("Database replication: "+t.direction+" "+t.change.docs.length+" records."),u(t)}).on("error",function(t){return u("Database error "+t)}),a.pouch=s,a.prototype.$pouch=s};e.a={install:f,plugIn:d,PouchDB:n.a}},169:function(t,e,a){"use strict";a.d(e,"a",function(){return j}),a.d(e,"b",function(){return P});var n=a(170),s=a.n(n),i=a(19),o=a.n(i),r=a(70),c=a.n(r),l=a(15),u=a.n(l),d=a(71),f=a.n(d),m=a(57),v=a.n(m),b=a(23),p=a(35),h=a(41),g=a(73),_=a(17),w=a(30),C=a(1519),x=a(179),y=a(175),k=a(1543),S=a(154),E=this,A=console.log,O=[{name:S.c,path:"list",components:{invoicesList:C.a}}],T=[].concat(O),j=[{name:S.b,path:"invoices",component:x.a,children:T},{name:S.a,path:"invoice/:id",component:y.a}];m.client.interceptors.request.use(function(t){var e=t,a=window.ls.get(_.a.tokenName);return null!=a&&(e.headers.Authorization="JWT "+a),e},function(t){return A("request failed"),f.a.reject(t)});var D={processPersonFK:function(t){var e=p.b.state.entities[t];return e?e.nombre:"Usuario #"+t},processDetailsJSON:function(t){if(!h.b.state.entities)return t;if(u()(h.b.state.entities).length<1)return t;A("product.state.entities.length = "+u()(h.b.state.entities).length);try{return JSON.parse(t.replace(/'/g,'"')).details.filter(function(t){return t[0]>0}).map(function(t){return[h.b.state.entities[t[0]],t[1],t[2]]})}catch(e){return t}}},P=v()({resource:"invoice",idAttribute:"codigo",urlRoot:""+_.a.server,client:m.client,state:{columns:k.a,currentTab:0,enums:{},paginator:{s:1,c:1e4},formRows:{row:[]}},actions:{fetchAll:function(t){var e=t.dispatch;A("<<<<<< fetchAll >>>>>>"),e("fetchList",{customUrlFnArgs:P.state.paginator}).then(function(t){A(" * * Fetched invoices * *"),A(t.columns),e("setColumns",t.columns)}).catch(function(t){A("*** Error while fetching invoices :: >"+t.message+"<***"),A(t.message),t.message.endsWith("401")?e("handle401",null,{root:!0}):e("notifyUser",{txt:"Error fetching invoices :: "+t.message,lvl:"is-danger"},{root:!0})})},setColumns:function(t,e){var a=t.commit;window.lgr.info("Invoice.index --\x3e actions.setColumns"),A(e),a("tableColumns",e)},setCurrentTab:function(t,e){var a=t.commit;window.lgr.info("Invoice.index --\x3e actions.setCurrentTab -- "+e),a("tab",e)},setEnums:function(t,e){var a=t.commit;window.lgr.info("Invoice.index --\x3e actions.setEnums"),a("enums",e)},updLocal:function(t,e){var a=t.commit;A("uuuuuuu Update local record uuuuuuuuuu"),A(e.data.mode+" "+e.data.store+" "+e.id),A(e.data.data),a("invoice",{id:e.id,data:e.data.data})},newLocal:function(t,e){t.dispatch;A("uuuuuuu Append new local record uuuuuuuuuu"),A(e.data.mode+" "+e.data.store)},saveRow:function(t,e){A("\n\n        Saving row......................");var a=t.rootGetters["product/getProduct"](e.values.code);A(a),A(e.values),t.commit("appendItemRow",e.values)},saveForm:function(t,e){var a=t.dispatch;window.lgr.info("Invoice.index --\x3e actions.saveForm"),A("unununu save form ununununun"),A(e),A(E);var n=e.items.map(function(t){return[t.codigo,parseInt(t.cantidad,10),t.discount.raw]}),s={data:{mode:"post",store:"invoice",data:{fecha:w.a.date(e.InvoiceDate),estado:"REG",codigo_cliente:e.summation.person,distribuidor:e.summation.distributor,descuento_especial:w.a.percent(e.summation.discountPct/100).raw,lista_de_items:c()({details:n}).split('"').join("'"),subtotal_iva_12:w.a.usd(e.summation.iva12).raw,subtotal_iva_0:w.a.usd(e.summation.iva0).raw,subtotal_descontado:w.a.usd(e.summation.valor).raw,total_calculado:w.a.usd(e.summation.total).raw,retenido:w.a.usd(e.summation.retention).raw,monto_final:w.a.usd(e.summation.final).raw,total_cobrado:0}}};A("@@@@@@@@@@ pkge @@@@@@@@"),A(s),a("newLocal",s),a("create",s)},backToListTab:function(t){var e=t.getters;t.dispatch;b.a.dispatch("invoice/fetchList",{customUrlFnArgs:e.getPaginator}),b.a.dispatch("invoice/setCurrentTab",0)}},getters:{getCurrentTab:function(t){return t.currentTab},getColumns:function(t){return t.columns},getInvoices:function(t){return t.list},getEnums:function(t){return t.enums},getPaginator:function(t){return t.paginator},getInvoice:function(t){return function(e){return t.entities[e]}}},mutations:{tab:function(t,e){window.lgr.debug("Invoice.index --\x3e mutations.tab -- "+e),t.currentTab=e},invoice:function(t,e){A(e.id+" = "+e.data.codigo+"/"+e.data.nombre),t.entities[e.id]=e.data},appendItemRow:function(t,e){(!t.formRows.row||!t.formRows.row[0]||t.formRows.row[0].code<0)&&(t.formRows.row=[]),t.formRows.row.push(e)},enums:function(t,e){t.enums=e},tableColumns:function(t,e){window.lgr.debug("Invoice.index --\x3e mutation.tableColumns"),t.columns=e}},customUrlFn:function(t,e){A(_.a.server),A("using paginator --\x3e "+e);var a=t?"/"+t:"",n=e?"s="+e.s+"&c="+e.c:"s=0&c=0";return A("using customUrlFn( "+a+", "+n+" )"),A("URI :: "+_.a.server+"/api/invoice"+a+"?"+n),_.a.server+"/api/invoice"+a+"?"+n},onCreateSuccess:function(){b.a.dispatch("invoice/backToListTab"),window.lgr.info("Invoice.index --\x3e mutation.onCreateSuccess OK!")},onUpdateSuccess:function(){b.a.dispatch("invoice/backToListTab"),window.lgr.info("Invoice.index --\x3e mutation.onUpdateSuccess OK!")},parseSingle:function(t){A("parseSingle"),A(t.data),A(b.a.state.invoice.entities[t.data.itemID]);var e={};return e.codigo=t.data.itemID,o()({},t,{data:e})},parseList:function(t){var e=t.data.invoice,a=e.data,n=e.titles,i=e.meta,r=e.enums,c=Object(g.a)(n),l=a.map(function(t,e){var a=t,n={};return i.forEach(function(t,e){a[e]=w.a[t.type](a[e],{foreignKey1:{fn:D.processPersonFK,vl:a[e]},JSON1:{fn:D.processDetailsJSON,vl:a[e]}})}),a.forEach(function(t,e){n[c[e]]=t}),n});return A(" * * Parsed invoices data * * "),A("result"),A(l),b.a.dispatch("invoice/setEnums",r.StatusLookup),A(" - - - - - - - - - -  Parsed invoice list  - - - - - - - - - - "),o()({},t,{data:l,columns:i,enums:void 0===r?"undefined":s()(r)})}})},17:function(t,e,a){"use strict";e.a={server:"https://wt-a0a68818c7b34a465e865e888dc419c9-0.sandbox.auth0-extend.com/webtasksso",authPath:"/authentication/google/start",tokenTimeToLive:2e4,tokenName:"tkn",activityName:"actv",authName:"authd",returnRouteName:"retRoute",localStorageNameSpace:"vuesppwa-",productionTip:!1,testAuthUrlEnvVar:"AUTH_TEST_URL",logger:{logLevel:"info",stringifyArguments:!0,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0},version:"0.0.78"}},1716:function(t,e,a){"use strict";var n=a(1717),s=a(1720),i=[n.a,s.a],o={};i.forEach(function(t){t.sub.forEach(function(t){o[t.id]=t}),o[t.id]=t}),e.a=o},1717:function(t,e,a){"use strict";var n=a(1718),s=a(1719);e.a={id:"es",sub:[s.a,n.a],message:{hello:"Saludos amigos!!!"},label:{signup:"Inscribirse",signin:"Ingresar",signout:"Salir"}}},1718:function(t,e,a){"use strict";e.a={id:"es-AR",message:{hello:"Che!"}}},1719:function(t,e,a){"use strict";e.a={id:"es-419",message:{hello:"Hola!"}}},172:function(t,e,a){"use strict";var n=a(100),s=a.n(n),i=a(101),o=a.n(i),r=a(4),c=a.n(r),l=a(173),u=a.n(l),d=a(3),f=a(35),m=a(41),v=a(1521),b=console.log;e.a={name:"InvoiceList",beforeMount:function(){var t=this;b("\n\n\n                  * * Ready to fetch invoices * *\n\n\n      "),b(f.b.state.list.length),b(f.b.state.isFetchingList),b(this.$store);var e=7;switch((f.b.state.list.length>0||f.b.state.isFetchingList)&&(b("Don't load persons"),e-=4),(m.b.state.list.length>0||m.b.state.isFetchingList)&&(b("Don't load products"),e-=2),(this.invoices.length>0||this.isLoadingList)&&(b("Don't load invoices"),e-=1),e){case 7:case 6:b("Load all"),this.$store.dispatch("person/fetchAll").then(function(){b("Loaded persons"),t.$store.dispatch("product/fetchAll").then(function(){b("Loaded products"),t.onFetchInvoices()})});break;case 5:case 4:b("Person then invoices"),b("Load all"),this.$store.dispatch("person/fetchAll").then(function(){b("Loaded persons"),t.onFetchInvoices()});break;case 3:case 2:b("Product then invoices"),b("Load all"),this.$store.dispatch("product/fetchAll").then(function(){b("Loaded products"),t.onFetchInvoices()});break;case 1:b("Load invoices"),this.onFetchInvoices();break;default:b("No loading needed")}},props:{tst:"passed in with props"},data:function(){return{anObj:{tst:"passed in as data"},hasMobileCards:!1,isFullPage:!1,isEmpty:!1,defaultOpenedDetails:[4358],selected:[][1],columnSelectorOpen:!1}},components:{"invoice-detail":v.a},computed:c()({},Object(d.c)("invoice",{invoices:"list",columns:"getColumns"}),Object(d.c)({loggedIn:"isAuthenticated"}),Object(d.e)("invoice",{isLoadingList:"isFetchingList",isUpdating:"isUpdating",isCreating:"isCreating"}),{formattedInvoices:function(){return this.invoices.map(function(t){var e={};return o()(t).forEach(function(t){var a=s()(t,2),n=a[0],i=a[1];e[n]=i.str||i}),e})},isBusy:function(){return this.isLoadingList||this.isUpdating||this.isCreating}}),methods:c()({},Object(d.b)(["handle401","notifyUser"]),Object(d.b)("invoice",{fetchInvoices:"fetchAll",setColumns:"setColumns"}),{onFetchInvoices:function(){var t=this;b(" * * Try to fetch invoices * *"),u()().interval(100).times(20).condition(function(){return!f.b.state.isFetchingList&&!m.b.state.isFetchingList}).done(function(){return t.fetchInvoices()})}})}},1720:function(t,e,a){"use strict";var n=a(1721),s=a(1722);e.a={id:"en",sub:[s.a,n.a],message:{hello:"Hello!!!",damned:"Thrown to the wolves"},label:{signup:"Join",signin:"Log in",signout:"Log out"}}},1721:function(t,e,a){"use strict";e.a={id:"en-GB",message:{hello:"Watcha!"}}},1722:function(t,e,a){"use strict";e.a={id:"en-US",message:{hello:"Howdy",damned:"Thrown under a bus"}}},1723:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(66),o=a(143),r=a.n(o),c=a(1724),l=a(189),u=a(1725),d=a(26),f=a(1757),m=a(1760),v=a(1763),b=a(273),p=a(275),h=a(1770),g=a(188),_=a(17),w=a(23);i.default.use(c.a);var C=console.log,x=[{path:"/ohv",name:"ohv",components:{default:f.a,hdr:l.a}},{path:"/post",name:"post",components:{default:v.a,hdr:l.a}},{path:"/detail/:id",name:"detail",components:{default:m.a,hdr:l.a}},{path:"/dc",name:"DA",components:{default:b.a,hdr:l.a}},{path:"/db",name:"DB",components:{default:p.a,hdr:l.a}},{path:"/form",name:"form",components:{default:h.a,hdr:l.a}}],y=x.concat(u.a).concat(g.a),k=function(t,e,a){if(window.lgr&&window.lgr.info("Guard: processServerSideChanges."),w.a&&w.a.state&&w.a.state.Auth&&w.a.state.Auth.accessToken.length>10){var n=_.a.server+"/api/metadata",i={headers:{Accept:"application/json, text/plain, */*",Authorization:"JWT "+w.a.state.Auth.accessToken}};r.a.get(n,i).then(function(t){var e=t.data.metadata.checks,a=w.a.state.integrityCheck;s()(e).forEach(function(t){e[t]!==a[t]&&(a[t]=e[t],C("will call -- store.dispatch('"+t+"/fetchAll')"),w.a.dispatch(t+"/fetchAll"),w.a.dispatch("updateIntegrityCheck",a))})}).catch(function(t){C("*** Error while fetching metadata :: >"+t.message+"<***"),C(t.message),t.message.endsWith("401")?w.a.dispatch("handle401",null,{root:!0}):w.a.dispatch("notifyUser",{txt:"Error fetching invoices :: "+t.message,lvl:"is-danger"},{root:!0})})}return null},S=function(t,e,a){return window.lgr&&window.lgr.info("Guard: clearErrorNotification."),w.a.dispatch("clearNotifyUser"),null},E=[];E=E.concat(k).concat(S).concat(d.d);var A=new c.a({routes:y});A.beforeEach(function(t,e,a){C("Router.beforeEach ==> Routing from '"+e.name+"' to '"+t.name+"'. Params '"+e.params+"')."),C(t),C(e),C("beforeEachTasks.length "+E.length),C(E);var n=null;if(E.forEach(function(s){null===n&&(n=s(t,e,a))}),null!==n)return void a(n);a()}),e.a=A},1725:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var n=a(1726),s=a(35),i=a(41),o=a(169),r=a(197),c=a(1731),l=a(262),u=a(1751),d=a(1753),f=a(1755),m=(console.log,[]),v=[{path:"emails",name:"emails",components:{nav_bar:l.a,default:u.a},props:{nav_bar:{setTab:"Admin"}}},{path:"profile",name:"profile",components:{nav_bar:l.a,default:d.a,helper:f.a}}],b=m.concat(n.a).concat(s.a).concat(i.a).concat(o.a).concat(r.a).concat(v),p=[{path:"",name:"home",component:c.a,children:b}]},1726:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a(1727),s=a(1729),i=a(155),o=(console.log,[{name:i.b,path:"protected",component:n.a},{name:i.a,path:"classified",component:s.a}])},1727:function(t,e,a){"use strict";var n=a(257),s=a(1728),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1728:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-left":"30px"}},[a("h1",[t._v("Some Protected Sections!")]),t._v(" "),a("ol",[a("li",[a("h3",[t._v("Read-only view")]),t._v(" "),t.$can("only_view","protected")?a("p",{staticStyle:{"margin-left":"30px"}},[t._v("\n        You are allowed to see this text.\n      ")]):t._e()]),t._v(" "),a("li",[a("h3",[t._v("Limited Edits")]),t._v(" "),t.$can("comment","protected")?a("p",{staticStyle:{"margin-left":"30px"}},[t._v("\n        You are allowed to make some edits.\n      ")]):t._e()]),t._v(" "),a("li",[a("h3",[t._v("Any Edits")]),t._v(" "),t.$can("alter","protected")?a("p",{staticStyle:{"margin-left":"30px"}},[t._v("\n        You are allowed any edits of this resource.\n      ")]):t._e()]),t._v(" "),a("li",[a("h3",[t._v("Alter Privileges")]),t._v(" "),t.$can("assign","protected")?a("p",{staticStyle:{"margin-left":"30px"}},[t._v("\n        You are allowed to control access to this resource.\n      ")]):t._e()])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("Unprotected text")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.$can("only_view","protected"),expression:"$can('only_view', 'protected')"}]},[t._v("Protected text!")]),t._v("\n  "+t._s(t.qtst)+"\n\n  "),a("hr"),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"home"}}},[a("icon",{attrs:{name:"arrow-circle-up"}}),t._v("\n     Home\n  ")],1),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"classified"}}},[a("icon",{attrs:{name:"arrow-circle-right"}}),t._v("\n     Classified\n  ")],1)],1)},s=[]},1729:function(t,e,a){"use strict";var n=a(1730),s=a(1),i=Object(s.a)(null,n.a,n.b,!1,null,null,null);e.a=i.exports},1730:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Classified Information!")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("Protected by routing, but otherwise exposed")]),t._v(" "),a("hr"),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"home"}}},[a("icon",{attrs:{name:"arrow-circle-up"}}),t._v("\n     Home\n  ")],1),t._v(" "),a("router-link",{staticClass:"button is-small is-link is-outlined",attrs:{to:{name:"protected"}}},[a("icon",{attrs:{name:"arrow-circle-left"}}),t._v("\n     Protected\n  ")],1)],1)},s=[]},1731:function(t,e,a){"use strict";function n(t){a(1732)}var s=a(258),i=a(1750),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-0b628fa2",null);e.a=c.exports},1732:function(t,e){},1733:function(t,e){},1734:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isKnown&&t.isHere?a("div",[a("a",{staticClass:"button is-small",class:t.highLightAdmin,attrs:{"data-cyp":"logOut"},on:{click:t.signOut}},[a("span",{attrs:{name:"icon"}},[a("icon",{attrs:{name:"sign-out-alt"}})],1),t._v(" "+t._s(t.$t("label.signout"))+", "+t._s(t.user)+"\n    ")])]):a("div",[t._v("\n     \n    "),a("a",{staticClass:"button is-small",attrs:{"data-cyp":"logIn"},on:{click:t.logIn}},[a("icon",{attrs:{name:"sign-in-alt"}}),t._v(" "+t._s(t.$t("label.signin"))+"\n    ")],1)])])},s=[]},1735:function(t,e,a){"use strict";function n(t){a(1736)}var s=a(261),i=a(1737),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-c5a18ffa",null);e.a=c.exports},1736:function(t,e){},1737:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isDebug?a("div",{attrs:{id:"pauth"}},[a("b-collapse",{attrs:{id:"divTbl",open:!1}},[a("button",{staticClass:"button is-small is-primary",attrs:{slot:"trigger"},slot:"trigger"},[t._v("Authorizations Tester")]),t._v(" "),a("div",[a("table",{staticClass:"table is-narrow is-hoverable is-size-6",attrs:{id:"axsCtrl"}},[a("thead",[a("tr",[a("th",{attrs:{id:"colRsrc"}},[t._v("Resource")]),t._v(" "),a("th",{attrs:{id:"colPrvlg"}},[t._v("Privilege")])])]),t._v(" "),a("tbody",t._l(t.getUserPermissions,function(e,n,s){return a("tr",[a("th",{staticClass:"is-size-7",attrs:{id:"colRsrc"}},[t._v(t._s(n))]),t._v(" "),a("td",{attrs:{id:"colPrvlg"}},[a("b-field",[a("b-select",{staticClass:"is-size-7",attrs:{id:n,placeholder:t.axsLvls[0].axs},nativeOn:{change:function(e){return t.updPermissions(e)}},model:{value:t.user.permissions[n],callback:function(e){t.$set(t.user.permissions,n,e)},expression:"user.permissions[key]"}},t._l(t.axsLvls,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                     "+t._s(e.axs)+"\n                    ")])}))],1)],1)])})),t._v(" "),a("tfoot",{staticClass:"is-hidden"},[a("tr",[a("th",{attrs:{id:"colRsrc"}},[t._v("Resource")]),t._v(" "),a("th",{attrs:{id:"colPrvlg"}},[t._v("Privilege")])])])])])]),t._v("\n\n"+t._s(t.getUserPermissions)+"\n\n  ")],1):t._e()},s=[]},1738:function(t,e){},1739:function(t,e,a){"use strict";var n=a(264),s=a(1740),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},174:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(175),r=a(1524),c=a(1527);e.a={name:"RUDcards",props:["id","distributor"],data:function(){return{activeSubTab:0}},components:{"invoice-record":o.a,"invoice-update":r.a,"invoice-auth":c.a},methods:{canAlter:function(){return this.$can("alter","invoice")},canAssign:function(){return this.$can("assign","invoice")}},computed:s()({},Object(i.c)("invoice",{p:"getInvoice"}))}},1740:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-item has-dropdown is-hoverable",on:{click:t.shutBurger}},[a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"profile"}}},[t._v("\n    Shop\n  ")]),t._v(" "),a("div",{staticClass:"navbar-dropdown is-boxed"},[a("router-link",{staticClass:"navbar-item",style:t.canOpen("invoices/list"),attrs:{to:{name:"invoices/list"}}},[t._v("\n      Invoicing\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("products/list"),attrs:{to:{name:"products/list"}}},[t._v("\n      Products\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"},event:""}},[t._v("\n      Payment\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"}}},[t._v("\n      Bottle Returns\n    ")])],1)],1)},s=[]},1741:function(t,e,a){"use strict";var n=a(265),s=a(1742),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1742:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-item has-dropdown is-hoverable",on:{click:t.shutBurger}},[a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"profile"}}},[t._v("\n    Admin\n  ")]),t._v(" "),a("div",{staticClass:"navbar-dropdown is-boxed"},[a("router-link",{staticClass:"navbar-item",style:t.canOpen("persons/list"),attrs:{to:{name:"persons/list"}}},[t._v("\n      User Management\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"}}},[t._v("\n      Accounts Payable\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"}}},[t._v("\n      Accounts Receivable\n    ")])],1)],1)},s=[]},1743:function(t,e,a){"use strict";var n=a(266),s=a(1744),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1744:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-item has-dropdown is-hoverable",on:{click:t.shutBurger}},[a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"profile"}}},[t._v("\n    Tests\n  ")]),t._v(" "),a("div",{staticClass:"navbar-dropdown is-boxed"},[a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"emails"}}},[t._v("\n      Emails\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"}}},[t._v("\n      Profile\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("protected"),attrs:{to:{name:"protected"}}},[t._v("\n      Protected\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("classified"),attrs:{to:{name:"classified"}}},[t._v("\n      Classified\n    ")])],1)],1)},s=[]},1745:function(t,e,a){"use strict";var n=a(267),s=a(1746),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1746:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-item has-dropdown is-hoverable",on:{click:t.shutBurger}},[a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"profile"}}},[t._v("\n    Distributor\n  ")]),t._v(" "),a("div",{staticClass:"navbar-dropdown is-boxed"},[a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"}}},[t._v("\n      Sales\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("profile"),attrs:{to:{name:"profile"}}},[t._v("\n      Bonus\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("bottles/list"),attrs:{to:{name:"bottles/list"}}},[t._v("\n      Bottle Inventory\n    ")]),t._v(" "),a("router-link",{staticClass:"navbar-item",style:t.canOpen("bottles/test"),attrs:{to:{name:"bottles/test"}}},[t._v("\n      Bottle test\n    ")])],1)],1)},s=[]},1747:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar is-transparent",staticStyle:{"background-color":"transparent"}},[a("div",{staticClass:"navbar-brand"},[a("router-link",{attrs:{to:{name:"home"}}},[a("img",{attrs:{src:"static/img/WaterDrop_50.png",alt:"Iridium Blue Logo"}}),t._v(" "),a("span",{staticStyle:{"font-family":"'Advent Pro'","font-size":"48px"},attrs:{"data-cyp":"appTitle"}},[t._v("iridium blue")])]),t._v(" "),t._m(0)],1),t._v(" "),a("div",{staticClass:"navbar-menu burger-bar",attrs:{id:"burgerBar"}},[a("div",{staticClass:"navbar-start"},[a("Shop"),t._v(" "),a("Distributor"),t._v(" "),a("Admin"),t._v(" "),a("Tests")],1),t._v(" "),a("div",{staticClass:"navbar-end"},[a("div",{staticClass:"navbar-item"},[a("div",{staticClass:"field is-grouped"},[a("Authentication")],1)])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-burger burger",attrs:{id:"burger","data-target":"burgerBar"}},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")])}]},1748:function(t,e,a){"use strict";var n=a(268),s=a(1749),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},1749:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",[a("b-notification",{attrs:{type:t.msgError.lvl,"has-icon":"",active:t.isError},on:{"update:active":function(e){t.isError=e}}},[t._v("\n      "+t._s(t.msgError.txt)+"\n    ")])],1),t._v(" "),a("div",{staticClass:"control"},[a("b-switch",{attrs:{type:"is-danger"},model:{value:t.aclDebug,callback:function(e){t.aclDebug=e},expression:"aclDebug"}},[t._v("\n      Debug\n    ")])],1),t._v(" "),t.aclDebug?a("div",[a("div",{staticClass:"mdl-grid"},[a("div",{staticClass:"mdl-cell mdl-cell--3-col mdl-cell mdl-cell--1-col-tablet mdl-cell--hide-phone"},[a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:{name:"persons"}}},[a("i",{staticClass:"material-icons"},[t._v("Persons")])]),t._v(" "),a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:{name:"ohv"}}},[a("i",{staticClass:"material-icons"},[t._v("Old Home ")])])],1)]),t._v(" "),a("a",{staticClass:"button is-small"},[t._v(t._s(t.isHere))]),a("a",{staticClass:"button is-small"},[t._v(t._s(t.isKnown))]),t._v(" "),t._m(0),t._v(" "),a("div",[t._v('\n      User status :: " '+t._s(t.getExpiry())+' "\n    ')]),t._v(" "),a("a",{staticClass:"button is-small",on:{click:t.qtst}},[t._v("\n      Quick Tests\n    ")])]):a("div",{staticClass:"is-small"},[t._v("Version :: v"+t._s(t.theVersion))])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"content"},[a("b",[t._v("Privileges:")]),t._v("\n      { { access } }\n    ")])}]},175:function(t,e,a){"use strict";function n(t){a(1522)}var s=a(176),i=a(1523),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-23bf70aa",null);e.a=c.exports},1750:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("NavBar"),t._v(" "),a("PseudoAuthorizations"),t._v(" "),a("router-view"),t._v(" "),a("router-view",{attrs:{name:"helper"}}),t._v(" "),a("Footer")],1)},s=[]},1751:function(t,e,a){"use strict";var n=a(1752),s=a(1),i=Object(s.a)(null,n.a,n.b,!1,null,null,null);e.a=i.exports},1752:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Email Subscriptions")])])}]},1753:function(t,e,a){"use strict";var n=a(1754),s=a(1),i=Object(s.a)(null,n.a,n.b,!1,null,null,null);e.a=i.exports},1754:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Edit your profile")])])}]},1755:function(t,e,a){"use strict";var n=a(1756),s=a(1),i=Object(s.a)(null,n.a,n.b,!1,null,null,null);e.a=i.exports},1756:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("help text !!")])},s=[]},1757:function(t,e,a){"use strict";function n(t){a(1758)}var s=a(269),i=a(1759),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-b3a797d4",null);e.a=c.exports},1758:function(t,e){},1759:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mdl-grid"},[a("div",{staticClass:"mdl-cell mdl-cell--3-col mdl-cell mdl-cell--1-col-tablet mdl-cell--hide-phone"}),t._v(" "),a("div",{staticClass:"mdl-cell mdl-cell--6-col mdl-cell--4-col-phone"},[a("a",{staticClass:"button",attrs:{"data-cyp":"qiktst"},on:{click:t.qiktst}},[t._v("Quick Test")]),t._v(" "),a("a",{staticClass:"button",attrs:{"data-cyp":"logOutUser"},on:{click:t.logOutUser}},[t._v("Purge User")]),t._v(" "),a("a",{staticClass:"button",attrs:{"data-cyp":"purge"},on:{click:t.purge}},[t._v("Purge All")]),t._v(" "),a("div",{attrs:{"data-cyp":"status"}},[t._v(t._s(t.status))]),t._v(" "),a("div",[t._v(t._s(t.response))]),t._v(" "),t._l(this.pictures,function(e){return a("div",{staticClass:"image-card",on:{click:function(a){t.displayDetails(e.id)}}},[a("div",{staticClass:"image-card__picture"},[a("img",{attrs:{src:e.url}})])])}),t._v(" "),a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:"/blog"}},[a("i",{staticClass:"material-icons"},[t._v("blog")])]),t._v(" "),a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:"/form"}},[a("i",{staticClass:"material-icons"},[t._v("form")])]),t._v(" "),a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:{name:"persons"}}},[a("i",{staticClass:"material-icons"},[t._v("Persons")])]),t._v(" "),a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:{name:"poisons"}}},[a("i",{staticClass:"material-icons"},[t._v("Persons (old)")])])],2)]),t._v(" "),a("router-link",{staticClass:"add-picture-button mdl-button mdl-js-button mdl-button--fab mdl-button--colored",attrs:{to:"/post"}},[a("i",{staticClass:"material-icons"},[t._v("add")])])],1)},s=[]},176:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(30),r=console.log;e.a={data:function(){return{totals:[]}},computed:s()({},Object(i.c)("invoice",{enums:"getEnums"}),{detail:function(){r("  *************** INVC **********************\n      ");var t=this.invc,e=t.lista_de_items,a="si"===t.distribuidor;r(this);var n=[];r("items object"),r(e);for(var s=0;s<e.length;s+=1){var i=e[s],c=a?i[0].valor_distribuidor:i[0].valor,l=i[1],u=o.a.percent(i[2],0);r("At "+s+" -- "+i[0].unidad+" ("+i[0].codigo+") "+i[0].nombre),n.push({codigo:i[0].codigo,nombre:i[0].nombre,unidad:i[0].unidad,cantidad:l,precio:c.str,descuento:o.a.percent(1-u.raw,0).str,total:o.a.usd(c.raw*l-u.raw).str})}return this.totals=[],this.totals.push({title:"Subtotal IVA 12%",value:t.subtotal_iva_12.str}),this.totals.push({title:"Descuento Especial",value:t.descuento_especial.str}),this.totals.push({title:"Valor",value:t.subtotal_descontado.str}),this.totals.push({title:"IVA",value:o.a.usd(t.total_calculado.raw-t.subtotal_descontado.raw).str}),this.totals.push({title:"Valor Total",value:t.total_calculado.str}),this.totals.push({title:"Retenido",value:t.retenido.str}),this.totals.push({title:"Total Final",value:t.monto_final.str}),n}}),props:{invc:{type:Object,required:!0,default:function(){return{codigo:9999,ruc_cedula:"34-4545",nombre:"asdf asdf asdf asdf",telefono:"23452345",direccion:"asdfasdf",distribuidor:"si",retencion:"no",tipo_de_documento:"RUC"}}}}}},1760:function(t,e,a){"use strict";function n(t){a(1761)}var s=a(271),i=a(1762),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-c4e1c9f6",null);e.a=c.exports},1761:function(t,e){},1762:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mdl-grid"},[a("div",{staticClass:"mdl-cell mdl-cell--8-col"},[a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",attrs:{to:"/"}},[t._v("\n        Main Page\n      ")]),t._v(" "),a("div",{staticClass:"picture"},[a("img",{attrs:{src:this.pictures[t.$route.params.id].url}})]),t._v(" "),a("div",{staticClass:"info"},[a("span",[t._v(t._s(this.pictures[t.$route.params.id].info))])])],1),t._v(" "),a("div",{staticClass:"mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet"},[a("div",{staticClass:"comment"},[a("span",[t._v(t._s(this.pictures[t.$route.params.id].comment))])]),t._v(" "),a("div",{staticClass:"actions"},[a("router-link",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",attrs:{to:"/post"}},[t._v("\n        ANSWER\n      ")])],1)])])},s=[]},1763:function(t,e,a){"use strict";function n(t){a(1764)}var s=a(272),i=a(1769),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-189fdd78",null);e.a=c.exports},1764:function(t,e){},1765:function(t,e){},1766:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n  Dumb #A --\x3e "+t._s(t.counter)+"\n")])},s=[]},1767:function(t,e){},1768:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{attrs:{type:"button"},on:{click:t.increment}},[t._v("Increment")]),t._v(" "),a("button",{attrs:{type:"button"},on:{click:t.decrement}},[t._v("Decrement")]),t._v(" "),a("div",[t._v(" Dumb #B -- count "+t._s(t.counter.other))]),t._v(" "),a("div",[t._v(" Token "+t._s(t.token))])])},s=[]},1769:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"waiting"},[t._v("\n  Not yet available\n  "),a("AA"),t._v(" "),a("BB")],1)},s=[]},177:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3);console.log;e.a={props:["invc"],data:function(){return{values:!1}},computed:o()({},Object(r.c)("invoice",{enums:"getEnums"}),Object(r.e)("invoice",{isUpdating:"isUpdating"}),{formUid:function(){return"pers_"+this.invc.codigo},typesId:function(){var t=this.enums.DocTypeLookup,e=[];return s()(t).forEach(function(a){var n=t[a];e.push({name:n,value:a,id:a,label:n})}),e}}),methods:o()({},Object(r.b)("invoice",{saveForm:"saveForm"}))}},1770:function(t,e,a){"use strict";function n(t){a(1771)}var s=a(277),i=a(1772),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},1771:function(t,e){},1772:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.values?a("code",{staticClass:"my-form my-form--code",domProps:{textContent:t._s(t.values)}}):a("formulate",{staticClass:"my-form",attrs:{name:"person",initial:t.formData},on:{submit:t.useFormData}},[a("article",{staticClass:"tile is-child box"},[a("h2",{staticClass:"title"},[t._v("Person")]),t._v(" "),a("button",{staticClass:"button is-info",attrs:{type:"button"},on:{click:t.fillForm}},[t._v("Fill")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Email Address")]),t._v(" "),a("formulate-element",{attrs:{name:"email",type:"email",placeholder:"you@example.com",validation:"required|email"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),a("formulate-element",{attrs:{name:"password_confirmation",type:"password",placeholder:"Choose a password",validation:"required"}})],1)]),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[t._v("Confirm Password")]),t._v(" "),a("formulate-element",{attrs:{name:"password",type:"password",placeholder:"Confirm your password","validation-label":"Password",validation:"required|confirmed"}})],1),t._v(" "),a("div",{staticClass:"control"},[a("formulate-element",{attrs:{type:"submit",name:"Save",elementClasses:"button is-info"}})],1)])])])])],1)},s=[]},178:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(26),r=console.log;e.a={props:["invc"],data:function(){return{values:!1}},computed:s()({},Object(i.c)("invoice",{enums:"getEnums"}),{permissionsField:function(){return r("xxxxxxxxxxxxxxxxxxx this.invc xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"),r(this.invc),r(this.invc.permissions),this.invc.permissions?this.invc.permissions:{}},formUid:function(){return"pers_"+this.invc.codigo},levels:function(){return o.a.options},resources:function(){return r("Resources"),r(o.b),o.b}}),methods:s()({},Object(i.b)("invoice",{saveForm:"saveForm"}))}},179:function(t,e,a){"use strict";var n=a(180),s=a(1542),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},180:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(23),r=a(1532),c=console.log;e.a={name:"Invoice",components:{Create:r.a},computed:s()({},Object(i.c)("invoice",{currentTab:"getCurrentTab"}),{activeTab:{get:function(){return o.a.state.invoice.currentTab},set:function(t){return o.a.dispatch("invoice/setCurrentTab",t)}}}),methods:s()({canEdit:function(){return this.$can("comment","invoices/list")},qtst:function(){c(" ------- Quick Test -------"),this.onCreateInvoice()}},Object(i.b)("invoice",{createInvoice:"create",setTab:"setCurrentTab"}))}},181:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(15),o=a.n(i),r=a(3),c=a(67),l=(a.n(c),a(104)),u=(a.n(l),a(182)),d=a(185),f=a(30),m=a(1538),v=console.log;e.a={props:["pers"],components:{detailsForm:m.a,"autocomplete-input":u.a,"dateselect-input":d.a},created:function(){this.persons&&this.persons.length>0&&this.productsMap&&o()(this.productsMap).length>0&&this.products&&this.products.length>0||this.$router.push({name:"home"})},data:function(){return{totals:[],isComponentModalActive:!1,checkedRows:[],retention:null,distributor:null,myDate:new Date,formats:{title:"MMMM / YYYY",weekdays:"W",navMonths:"MMM",input:["YYYY-MM-DD","YYYY/MM/DD"],dayPopover:"L",data:["L","YYYY-MM-DD","YYYY/MM/DD"]}}},computed:s()({},Object(r.c)("invoice",{enums:"getEnums"}),Object(r.c)("product",{products:"list",productsMap:"getProductsMap"}),Object(r.c)("person",{persons:"list",getPerson:"getPerson"}),Object(r.e)("invoice",{isCreating:"isCreating",formRows:"formRows"}),Object(c.mapModels)({Persona:"createInvoice/Persona",InvoiceDate:"createInvoice/InvoiceDate"}),{tableData:function(){var t=this,e=[],a=this.$store.state;if(a.values.createInvoice){var n=a.values.createInvoice;n.Persona=n.Persona||"(0) no one",n.InvoiceDate=n.InvoiceDate||new Date;var s=[{codigo:"codigo",nombre:"nombre",unidad:"unidad",iva:"iva",valor:"$0.00",cantidad:0,total:"$0.00"}];v("\n\n\n          tableData() ----------------------------"),v(this.productsMap);var i=n.Persona.match(/\(([^)]+)\)/)[1],o=this.getPerson(i);this.retention=o&&o.retencion||null,this.distributor=o&&o.distribuidor||null,this.totals=[];var r=0,c=0,l=0,u={distributor:this.distributor,person:i,discountPct:0,iva0:0,iva12:0,subtotal:0,discount:0,retention:0,total:0};if(this.products.length<1)return s;if(this.formRows.row.length<1)return s;if(this.formRows.row[0].code<0)return s;this.formRows.row.forEach(function(a){v("row"),v(a);var n=t.productsMap[a.code];v(n.porcentaje.raw),t.distributor&&"si"===t.distributor?(r=n.valor_distribuidor.str,c=n.valor_distribuidor.raw,l=f.a.percent(n.valor_distribuidor.raw/n.valor.raw)):(r=n.valor.str,c=n.valor.raw,l=f.a.percent(1));var s=c*a.qty;v(n.iva);var i=0===n.iva.raw?s:0,o=n.iva.raw>0?s:0;u.iva0+=i,u.iva12+=o,u.subtotal+=i+o,e.push({codigo:a.code,nombre:n.nombre,unidad:n.unidad,discount:l,iva:n.iva,valor:r,cantidad:a.qty,total:f.a.usd(c*a.qty).str})}),v("rows"),v(e),u.discountPct=n&&n.desc||0,u.discount=u.discountPct/100*u.subtotal,u.valor=u.subtotal-u.discount,u.iva=.12*u.valor,u.total=u.valor+u.iva,u.final=u.total,u.iva0>0&&this.totals.push({label:"Subtotal IVA  0%",value:f.a.usd(u.iva0).str}),this.totals.push({label:"Subtotal IVA 12%",value:f.a.usd(u.iva12).str}),this.totals.push({label:"Descuento Especial",value:f.a.usd(u.discount).str}),this.totals.push({label:"Valor",value:f.a.usd(u.valor).str}),this.totals.push({label:"IVA",value:f.a.usd(u.iva).str}),this.totals.push({label:"Valor Total",value:f.a.usd(u.total).str}),u.final=u.total,"si"===this.retention&&(u.retention=.01*u.total,u.final=u.total-u.retention,this.totals.push({label:"Retenido",value:f.a.usd(u.retention).str})),this.totals.push({label:"Total Final",value:f.a.usd(u.final).str}),v("summation.iva0 "+u.iva0),v("summation.iva12 "+u.iva12),v("summation.discountPct "+u.discountPct),v("summation.discount "+u.discount),v("summation.valor "+u.valor),v("summation.iva "+u.iva),v("summation.total "+u.total),v("summation.retention "+u.retention),v("summation.final "+u.final),n.summation=u,n.items=e,v(n),v(this.$store),v(e)}return e},personsId:function(){v("%%%%%%%%%%%%%%%% personsId %%%%%%%%%%%%%%%%%% "),v(this);var t=[],e=this.persons;return e&&(v("prsns"),o()(e).forEach(function(a){var n=e[a];t.push({value:n.codigo,label:""+n.nombre})})),v(t),{list:t,data:function(t){return"("+t.value+") "+t.label}}}}),methods:s()({},Object(r.b)("invoice",{saveForm:"saveForm"}),{openModal:function(t){t.preventDefault(),this.isComponentModalActive=!0},dropRow:function(t){var e=this;this.checkedRows.forEach(function(t){e.formRows.row.forEach(function(a,n){a.code===t.codigo&&a.code===t.codigo&&e.formRows.row.splice(n,1)})}),v(this.checkedRows),t.preventDefault()},commitForm:function(t){this.saveForm(t)},setItem:function(t){v("Item "+t.qty+" of "+t.code)}})}},182:function(t,e,a){"use strict";var n=a(183),s=a(1536),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},183:function(t,e,a){"use strict";var n=a(1534);console.log;e.a={components:{"vue-awesomplete":n.a},props:{options:{type:Object,required:!0}}}},184:function(t,e,a){"use strict";var n=a(104),s=a.n(n);e.a={props:{ajax:{type:Object,default:function(){return{callback:function(){},method:"GET",url:null}}},setting:{type:Object,default:function(){return{}}},value:String},data:function(){return{awesomplete:null,internalValue:null}},methods:{close:function(){this.awesomplete.close()},destroy:function(){this.awesomplete.destroy()},evaluate:function(){this.awesomplete.evaluate()},goto:function(t){this.awesomplete.goto(t)},list:function(t){this.awesomplete.list=t},next:function(){this.awesomplete.next()},open:function(){this.awesomplete.open()},previous:function(){this.awesomplete.previous()},select:function(){this.awesomplete.select()}},mounted:function(){var t=this,e=this,a=this.$el;if(this.ajax.url){void 0===this.ajax.method&&(this.ajax.method="GET");var n=new XMLHttpRequest;n.open(this.ajax.method,this.ajax.url,!0),n.onload=function(){var t=JSON.parse(n.responseText),i=e.ajax.callback(t);e.setting.list=i,e.awesomplete=new s.a(a,e.setting)},n.send()}else this.awesomplete=new s.a(a,this.setting);a.addEventListener("awesomplete-select",function(){t.$emit("select")}),a.addEventListener("awesomplete-selectcomplete",function(){e.internalValue=a.value,t.$emit("selectcomplete")}),a.addEventListener("awesomplete-open",function(){t.$emit("open")}),a.addEventListener("awesomplete-close",function(){t.$emit("close")}),a.addEventListener("awesomplete-highlight",function(){t.$emit("highlight")})},watch:{internalValue:function(){this.$emit("input",this.internalValue)}},created:function(){this.internalValue=this.value}}},185:function(t,e,a){"use strict";var n=a(186),s=a(1537),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},186:function(t,e,a){"use strict";console.log;e.a={props:{value:{type:[Date,Boolean],default:!1}},created:function(){this.$emit("input",new Date)},methods:{datePick:function(){this.$emit("input",this.theDate)}},data:function(){return{theDate:new Date,formats:{title:"MMMM / YYYY",weekdays:"W",navMonths:"MMM",input:["YYYY-MM-DD","YYYY/MM/DD"],dayPopover:"L",data:["L","YYYY-MM-DD","YYYY/MM/DD"]}}}}},187:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3),c=console.log;e.a={computed:o()({},Object(r.c)("product",{products:"list",productsMap:"getProductsMap"}),{typesId:function(){c("%%%%%%%%%%%%%%%%%%%% CC %%%%%%%%%%%%%%%%%%"),c(this),c(this.$store.getters);var t=[],e=this.products;return e&&s()(e).forEach(function(a){var n=e[a];t.push({name:n.nombre,value:n.codigo,id:n.codigo,label:n.nombre+" ("+n.unidad+")"})}),c(t),t}}),methods:o()({},Object(r.b)("invoice",{saveRow:"saveRow"}),{saveForm:function(t){this.saveRow({rowNum:-1,values:t}),this.$parent.close()}})}},188:function(t,e,a){"use strict";a.d(e,"a",function(){return f}),a.d(e,"b",function(){return m});var n=a(71),s=a.n(n),i=a(57),o=a.n(i),r=a(189),c=a(17),l=a(1549),u=a(1553),d=console.log,f=[{path:"/blog",name:"blog",components:{default:l.a,hdr:r.a},meta:{permission:"visitor"}},{path:"/articles/:id",name:"article",components:{default:u.a,hdr:r.a},meta:{permission:"visitor"}}];i.client.interceptors.request.use(function(t){var e=t,a=window.ls.get(c.a.tokenName);return null!=a&&(e.headers.Authorization="JWT "+a),e},function(t){return d("request failed"),s.a.reject(t)});var m=o()({resource:"articles",idAttribute:"id",urlRoot:c.a.server+"/api/articles",client:i.client})},189:function(t,e,a){"use strict";function n(t){a(1544)}var s=a(190),i=a(1548),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-5244673b",null);e.a=c.exports},190:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(26),r=a(1545),c=console.log;c("ACCESS LEVELS :::::::::::::"),c(o.a.alvls[o.a.OWN]),e.a={data:function(){return{activeTab:0,aclDebug:!1,lvlAcl:0,axsLvlSelectorOpen:!1,role:"admin",axsLvls:o.a.olvls,axsLvl:{Classified:0,Protected:0},axsLvlTblDef:{Classified:{name:"Classified"},Protected:{name:"Protected"}}}},computed:s()({theVersion:function(){return window.version}},Object(i.e)(["a12n.user"]),Object(i.c)({jwt:"axsToken",isHere:"isActive",isKnown:"isAuthenticated"})),components:{accessControl:r.a},methods:s()({showTab:function(){return!0}},Object(i.d)(["changeRole"]),{onRoleChange:function(){c("================================ "+this.role),this.changeRole(this.role)},setRole:function(){this.access=this.axsRights,this.$store.dispatch("setAxsRole",{roles:this.axsRights})},prog:function(){c(" ------- prog -------")}})}},191:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(17),r=(console.log,{name:"auth",data:function(){return{tkn:null,axStkn:"unused",isActive:"unused"}},beforeUpdate:function(){this.$store.getters.permissions&&this.access!==this.$store.getters.permissions&&(this.access=this.$store.getters.permissions)},created:function(){var t=this;window.ls.on(o.a.activityName,function(e){window.lgr.warn("Auth.vue :: Activity updated :: "+e),t.setActivity(e)}),window.ls.on(o.a.authName,function(e){window.lgr.warn("Auth.vue :: Auth updated :: "+e),t.setAuth(e)}),this.axStkn=window.ls.get(o.a.tokenName,0),window.ls.on(o.a.tokenName,function(e){window.lgr.warn("Auth.vue :: New token value in local store :: "+e),t.keepTkn(e)})},computed:s()({highLightAdmin:function(){return"admin"===this.$store.getters.accessLevel.toString()?"is-warning":""}},Object(i.c)({jwt:"axsToken",isHere:"isActive",isKnown:"isAuthenticated",user:"nameUser",roles:"permissions",priv:"accessLevel"})),methods:s()({},Object(i.b)(["keepTkn","logIn","logOut","setActivity","setAuth"]),{signOut:function(){this.logOut(),this.$router.push({name:"home"})},signIn:function(){this.logIn(),this.$router.push({name:"home"}),window.lgr.info("Auth.vue :: signin '["+this.access+"]'")}})});e.a=r},192:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(193),r=a.n(o),c=a(194),l=console.log,u=new r.a;e.a={name:"Blog",components:{"blog-article":c.a},computed:s()({},Object(i.c)("articles",{articles:"list"})),methods:s()({onFetchArticles:function(){l(" * * Try to fetch articles * *"),this.fetchArticles().then(function(){l(" * * Fetched articles * *")}).catch(function(t){l("*** Error while fetching articles :: "+t+"***")})},onCreateArticle:function(){this.createArticle({data:{title:u.generateSentence(),content:u.generateParagraph()}})}},Object(i.b)("articles",{fetchArticles:"fetchList",createArticle:"create"}))}},194:function(t,e,a){"use strict";var n=a(195),s=a(1551),i=a(1),o=Object(i.a)(n.a,s.a,s.b,!1,null,null,null);e.a=o.exports},195:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(193),r=a.n(o),c=new r.a;e.a={props:{article:{type:Object,required:!0}},methods:s()({},Object(i.b)("articles",["update","replace","destroy"]),{onEdit:function(){this.update({id:this.article.id,data:{title:c.generateSentence(),content:c.generateParagraph()}})},onReplace:function(){this.replace({id:this.article.id,data:{title:c.generateSentence(),content:c.generateParagraph()}})},onDelete:function(){this.destroy({id:this.article.id})}})}},196:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(194);e.a={components:{"blog-article":o.a},computed:s()({},Object(i.c)("articles",{articleById:"byId"}),Object(i.e)(["route"]),{currentArticle:function(){return this.articleById(this.route.params.id)}}),methods:s()({},Object(i.b)("articles",{fetchArticle:"fetchSingle"}),{fetchData:function(){return this.fetchArticle({id:this.route.params.id})}}),watch:{$route:"fetchData"},created:function(){this.fetchData()}}},197:function(t,e,a){"use strict";a.d(e,"a",function(){return D}),a.d(e,"b",function(){return I});var n=a(170),s=a.n(n),i=a(19),o=a.n(i),r=a(70),c=a.n(r),l=a(15),u=a.n(l),d=a(71),f=a.n(d),m=a(57),v=a.n(m),b=a(23),p=a(35),h=a(41),g=a(73),_=a(17),w=a(30),C=a(1555),x=a(1568),y=a(1571),k=a(200),S=a(1579),E=a(156),A=this,O=console.log,T=[{name:E.c,path:"list",components:{bottlesList:C.a}}],j=[].concat(T),D=[{name:E.b,path:"bottles",component:y.a,children:j},{name:E.a,path:"bottle/:id",component:k.a},{name:E.d,path:"bottles/test",component:x.a}];m.client.interceptors.request.use(function(t){var e=t,a=window.ls.get(_.a.tokenName);return null!=a&&(e.headers.Authorization="JWT "+a),e},function(t){return O("request failed"),f.a.reject(t)});var P={processPersonFK:function(t){var e=p.b.state.entities[t];return e?e.nombre:"Usuario #"+t},processDetailsJSON:function(t){if(!h.b.state.entities)return t;if(u()(h.b.state.entities).length<1)return t;O("product.state.entities.length = "+u()(h.b.state.entities).length);try{return JSON.parse(t.replace(/'/g,'"')).details.filter(function(t){return t[0]>0}).map(function(t){return[h.b.state.entities[t[0]],t[1],t[2]]})}catch(e){return t}}},I=v()({resource:"bottle",idAttribute:"codigo",urlRoot:""+_.a.server,client:m.client,state:{columns:S.a,currentTab:0,enums:{},paginator:{s:1,c:1e4},formRows:{row:[]}},actions:{setColumns:function(t,e){var a=t.commit;window.lgr.info("Bottle.index --\x3e actions.setColumns"),O(e),a("tableColumns",e)},setCurrentTab:function(t,e){var a=t.commit;window.lgr.info("Bottle.index --\x3e actions.setCurrentTab -- "+e),a("tab",e)},setEnums:function(t,e){var a=t.commit;window.lgr.info("Bottle.index --\x3e actions.setEnums"),a("enums",e)},updLocal:function(t,e){var a=t.commit;O("uuuuuuu Update local record uuuuuuuuuu"),O(e.data.mode+" "+e.data.store+" "+e.id),O(e.data.data),a("bottle",{id:e.id,data:e.data.data})},newLocal:function(t,e){t.dispatch;O("uuuuuuu Append new local record uuuuuuuuuu"),O(e.data.mode+" "+e.data.store)},saveRow:function(t,e){O("\n\n        Saving row......................");var a=t.rootGetters["product/getProduct"](e.values.code);O(a),O(e.values),t.commit("appendItemRow",e.values)},saveForm:function(t,e){var a=t.dispatch;window.lgr.info("Bottle.index --\x3e actions.saveForm"),O("unununu save form ununununun"),O(e),O(A);var n=e.items.map(function(t){return[t.codigo,parseInt(t.cantidad,10),t.discount.raw]}),s={data:{mode:"post",store:"bottle",data:{fecha:w.a.date(e.BottleDate),estado:"REG",codigo_cliente:e.summation.person,distribuidor:e.summation.distributor,descuento_especial:w.a.percent(e.summation.discountPct/100).raw,lista_de_items:c()({details:n}).split('"').join("'"),subtotal_iva_12:w.a.usd(e.summation.iva12).raw,subtotal_iva_0:w.a.usd(e.summation.iva0).raw,subtotal_descontado:w.a.usd(e.summation.valor).raw,total_calculado:w.a.usd(e.summation.total).raw,retenido:w.a.usd(e.summation.retention).raw,monto_final:w.a.usd(e.summation.final).raw,total_cobrado:0}}};O("@@@@@@@@@@ pkge @@@@@@@@"),O(s),a("newLocal",s),a("create",s)},backToListTab:function(t){var e=t.getters;t.dispatch;b.a.dispatch("bottle/fetchList",{customUrlFnArgs:e.getPaginator}),b.a.dispatch("bottle/setCurrentTab",0)}},getters:{getCurrentTab:function(t){return t.currentTab},getColumns:function(t){return t.columns},getBottles:function(t){return t.list},getEnums:function(t){return t.enums},getPaginator:function(t){return t.paginator},getBottle:function(t){return function(e){return t.entities[e]}}},mutations:{tab:function(t,e){window.lgr.debug("Bottle.index --\x3e mutations.tab -- "+e),t.currentTab=e},bottle:function(t,e){O(e.id+" = "+e.data.codigo+"/"+e.data.nombre),t.entities[e.id]=e.data},appendItemRow:function(t,e){(!t.formRows.row||!t.formRows.row[0]||t.formRows.row[0].code<0)&&(t.formRows.row=[]),t.formRows.row.push(e)},enums:function(t,e){t.enums=e},tableColumns:function(t,e){window.lgr.debug("Bottle.index --\x3e mutation.tableColumns"),t.columns=e}},customUrlFn:function(t,e){O(_.a.server),O("using paginator --\x3e "+e);var a=t?"/"+t:"",n=e?"s="+e.s+"&c="+e.c:"s=0&c=0";return O("using customUrlFn( "+a+", "+n+" )"),O("URI :: "+_.a.server+"/api/bottle"+a+"?"+n),_.a.server+"/api/bottle"+a+"?"+n},onCreateSuccess:function(){b.a.dispatch("bottle/backToListTab"),window.lgr.info("Bottle.index --\x3e mutation.onCreateSuccess OK!")},onUpdateSuccess:function(){b.a.dispatch("bottle/backToListTab"),window.lgr.info("Bottle.index --\x3e mutation.onUpdateSuccess OK!")},parseSingle:function(t){O("parseSingle"),O(t.data),O(b.a.state.bottle.entities[t.data.itemID]);var e={};return e.codigo=t.data.itemID,o()({},t,{data:e})},parseList:function(t){var e=t.data.bottle,a=e.data,n=e.titles,i=e.meta,r=e.enums,c=Object(g.a)(n),l=a.map(function(t,e){var a=t,n={};return i.forEach(function(t,e){a[e]=w.a[t.type](a[e],{foreignKey1:{fn:P.processPersonFK,vl:a[e]},JSON1:{fn:P.processDetailsJSON,vl:a[e]}})}),a.forEach(function(t,e){n[c[e]]=t}),n});return O(" * * Parsed bottles data * * "),O("result"),O(l),b.a.dispatch("bottle/setEnums",r.StatusLookup),O(" - - - - - - - - - -  Parsed bottle list  - - - - - - - - - - "),o()({},t,{data:l,columns:i,enums:void 0===r?"undefined":s()(r)})}})},198:function(t,e,a){"use strict";var n=a(100),s=a.n(n),i=a(101),o=a.n(i),r=a(4),c=a.n(r),l=a(173),u=a.n(l),d=a(3),f=a(35),m=a(41),v=a(1557),b=console.log;e.a={name:"BottleList",props:{tst:"passed in with props"},data:function(){return{anObj:{tst:"passed in as data"},hasMobileCards:!1,isFullPage:!1,isEmpty:!1,defaultOpenedDetails:[4358],selected:[][1],columnSelectorOpen:!1}},components:{"bottle-detail":v.a},computed:c()({},Object(d.c)("bottle",{bottles:"list",columns:"getColumns"}),Object(d.c)({loggedIn:"isAuthenticated"}),Object(d.e)("bottle",{isLoadingList:"isFetchingList",isUpdating:"isUpdating",isCreating:"isCreating"}),{formattedBottles:function(){return this.bottles.map(function(t){var e={};return o()(t).forEach(function(t){var a=s()(t,2),n=a[0],i=a[1];e[n]=i.str||i}),e})},isBusy:function(){return this.isLoadingList||this.isUpdating||this.isCreating}}),methods:c()({},Object(d.b)(["handle401","notifyUser"]),Object(d.b)("bottle",{setColumns:"setColumns"}),{onFetchBottles:function(){var t=this;b(" * * Try to fetch bottles * *"),u()().interval(100).times(20).condition(function(){return!f.b.state.isFetchingList&&!m.b.state.isFetchingList}).done(function(){return t.fetchBottles()})}})}},199:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(200),r=a(1560),c=a(1563);e.a={name:"RUDcards",props:["id","distributor"],data:function(){return{activeSubTab:0}},components:{"bottle-record":o.a,"bottle-update":r.a,"bottle-auth":c.a},methods:{canAlter:function(){return this.$can("alter","bottle")},canAssign:function(){return this.$can("assign","bottle")}},computed:s()({},Object(i.c)("bottle",{p:"getBottle"}))}},200:function(t,e,a){"use strict";function n(t){a(1558)}var s=a(201),i=a(1559),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-b780b8b0",null);e.a=c.exports},201:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(30),r=console.log;e.a={data:function(){return{totals:[]}},computed:s()({},Object(i.c)("bottle",{enums:"getEnums"}),{detail:function(){r("  *************** INVC **********************\n      ");var t=this.invc,e=t.lista_de_items,a="si"===t.distribuidor;r(this);var n=[];r("items object"),r(e);for(var s=0;s<e.length;s+=1){var i=e[s],c=a?i[0].valor_distribuidor:i[0].valor,l=i[1],u=o.a.percent(i[2],0);r("At "+s+" -- "+i[0].unidad+" ("+i[0].codigo+") "+i[0].nombre),n.push({codigo:i[0].codigo,nombre:i[0].nombre,unidad:i[0].unidad,cantidad:l,precio:c.str,descuento:o.a.percent(1-u.raw,0).str,total:o.a.usd(c.raw*l-u.raw).str})}return this.totals=[],this.totals.push({title:"Subtotal IVA 12%",value:t.subtotal_iva_12.str}),this.totals.push({title:"Descuento Especial",value:t.descuento_especial.str}),this.totals.push({title:"Valor",value:t.subtotal_descontado.str}),this.totals.push({title:"IVA",value:o.a.usd(t.total_calculado.raw-t.subtotal_descontado.raw).str}),this.totals.push({title:"Valor Total",value:t.total_calculado.str}),this.totals.push({title:"Retenido",value:t.retenido.str}),this.totals.push({title:"Total Final",value:t.monto_final.str}),n}}),props:{invc:{type:Object,required:!0,default:function(){return{codigo:9999,ruc_cedula:"34-4545",nombre:"asdf asdf asdf asdf",telefono:"23452345",direccion:"asdfasdf",distribuidor:"si",retencion:"no",tipo_de_documento:"RUC"}}}}}},202:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3);console.log;e.a={props:["invc"],data:function(){return{values:!1}},computed:o()({},Object(r.c)("bottle",{enums:"getEnums"}),Object(r.e)("bottle",{isUpdating:"isUpdating"}),{formUid:function(){return"pers_"+this.invc.codigo},typesId:function(){var t=this.enums.DocTypeLookup,e=[];return s()(t).forEach(function(a){var n=t[a];e.push({name:n,value:a,id:a,label:n})}),e}}),methods:o()({},Object(r.b)("bottle",{saveForm:"saveForm"}))}},203:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(26),r=console.log;e.a={props:["invc"],data:function(){return{values:!1}},computed:s()({},Object(i.c)("bottle",{enums:"getEnums"}),{permissionsField:function(){return r("xxxxxxxxxxxxxxxxxxx this.invc xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"),r(this.invc),r(this.invc.permissions),this.invc.permissions?this.invc.permissions:{}},formUid:function(){return"pers_"+this.invc.codigo},levels:function(){return o.a.options},resources:function(){return r("Resources"),r(o.b),o.b}}),methods:s()({},Object(i.b)("bottle",{saveForm:"saveForm"}))}},204:function(t,e,a){"use strict";var n=a(127),s=(a.n(n),console.log),i=console.error,o="codigo de envase",r=function(t,e){var a=new RegExp("^.*","gi");return e!==o&&(a=new RegExp("^"+e+".*","gi")),t.liveFeedStatus="finding",s("Searching with: "+a+" from >"+e+"<"),t.$pouch.liveFind({selector:{codigo:{$regex:a},type:"bottle"},sort:[{codigo:"asc"}]}).on("update",function(e,a){var n=e;0===n.doc.ultimo?t.getItems(n):t.$pouch.find({selector:{_id:n.doc.ultimo}}).then(function(e){n.doc.ultimo=e.docs[0]&&e.docs[0].nombre||n.doc.ultimo,t.getItems(n)})}).on("ready",function(){t.liveFeedStatus="listening"}).on("cancelled",function(){t.liveFeedStatus="idle",t.newSearch()}).on("error",function(t){i("Oh no!",t)})};e.a={data:function(){return{items:[],liveFeed:null,liveFeedStatus:"idle",seekCodigo:o,seekCodigoIsDirty:!1,seeking:!1,pouchData:null}},created:function(){this.liveFeed=r(this,o)},computed:{seekIndicator:function(){return this.seeking?"⟳ Fetching new results":this.seekCodigoIsDirty?"... Typing":"✓ Done"}},watch:{seekCodigo:function(){this.seekCodigoIsDirty=!0,this.items=[],this.liveFeedStatus="cancelling",this.liveFeed.cancel()}},methods:{newSearch:Object(n.debounce)(function(){this.seekCodigo!==o&&(this.seeking=!0,setTimeout(function(){this.seeking=!1,this.seekCodigoIsDirty=!1}.bind(this),2e3),this.liveFeed=r(this,this.seekCodigo))},100),getItems:function(t){var e=null;switch(t.action){case"REMOVE":s("###############   LiveFind remove not implemented   ##############");break;case"UPDATE":e=this.items.findIndex(function(e){return e._id===t.id}),this.items[e]=t.doc,this.items=this.items.slice();break;default:this.items.push(t.doc)}},seekCodigoFocus:function(){this.seekCodigo===o&&(this.seekCodigo="")},seekCodigoBlur:function(){""===this.seekCodigo&&(this.seekCodigo=o)}}}},205:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(23),r=a(1572),c=console.log;e.a={name:"Bottle",components:{Create:r.a},computed:s()({},Object(i.c)("bottle",{currentTab:"getCurrentTab"}),{activeTab:{get:function(){return o.a.state.bottle.currentTab},set:function(t){return o.a.dispatch("bottle/setCurrentTab",t)}}}),methods:s()({canEdit:function(){return this.$can("comment","bottles/list")},qtst:function(){c(" ------- Quick Test -------"),this.onCreateBottle()}},Object(i.b)("bottle",{createBottle:"create",setTab:"setCurrentTab"}))}},206:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(15),o=a.n(i),r=a(3),c=a(67),l=(a.n(c),a(104)),u=(a.n(l),a(182)),d=a(185),f=a(30),m=a(1574),v=console.log;e.a={props:["pers"],components:{detailsForm:m.a,"autocomplete-input":u.a,"dateselect-input":d.a},created:function(){this.persons&&this.persons.length>0&&this.productsMap&&o()(this.productsMap).length>0&&this.products&&this.products.length>0||this.$router.push({name:"home"})},data:function(){return{totals:[],isComponentModalActive:!1,checkedRows:[],retention:null,distributor:null,myDate:new Date,formats:{title:"MMMM / YYYY",weekdays:"W",navMonths:"MMM",input:["YYYY-MM-DD","YYYY/MM/DD"],dayPopover:"L",data:["L","YYYY-MM-DD","YYYY/MM/DD"]}}},computed:s()({},Object(r.c)("bottle",{enums:"getEnums"}),Object(r.c)("product",{products:"list",productsMap:"getProductsMap"}),Object(r.c)("person",{persons:"list",getPerson:"getPerson"}),Object(r.e)("bottle",{isCreating:"isCreating",formRows:"formRows"}),Object(c.mapModels)({Persona:"createBottle/Persona",BottleDate:"createBottle/BottleDate"}),{tableData:function(){var t=this,e=[],a=this.$store.state;if(a.values.createBottle){var n=a.values.createBottle;n.Persona=n.Persona||"(0) no one",n.BottleDate=n.BottleDate||new Date;var s=[{codigo:"codigo",nombre:"nombre",unidad:"unidad",iva:"iva",valor:"$0.00",cantidad:0,total:"$0.00"}];v("\n\n\n          tableData() ----------------------------"),v(this.productsMap);var i=n.Persona.match(/\(([^)]+)\)/)[1],o=this.getPerson(i);this.retention=o&&o.retencion||null,this.distributor=o&&o.distribuidor||null,this.totals=[];var r=0,c=0,l=0,u={distributor:this.distributor,person:i,discountPct:0,iva0:0,iva12:0,subtotal:0,discount:0,retention:0,total:0};if(this.products.length<1)return s;if(this.formRows.row.length<1)return s;if(this.formRows.row[0].code<0)return s;this.formRows.row.forEach(function(a){v("row"),v(a);var n=t.productsMap[a.code];v(n.porcentaje.raw),t.distributor&&"si"===t.distributor?(r=n.valor_distribuidor.str,c=n.valor_distribuidor.raw,l=f.a.percent(n.valor_distribuidor.raw/n.valor.raw)):(r=n.valor.str,c=n.valor.raw,l=f.a.percent(1));var s=c*a.qty;v(n.iva);var i=0===n.iva.raw?s:0,o=n.iva.raw>0?s:0;u.iva0+=i,u.iva12+=o,u.subtotal+=i+o,e.push({codigo:a.code,nombre:n.nombre,unidad:n.unidad,discount:l,iva:n.iva,valor:r,cantidad:a.qty,total:f.a.usd(c*a.qty).str})}),v("rows"),v(e),u.discountPct=n&&n.desc||0,u.discount=u.discountPct/100*u.subtotal,u.valor=u.subtotal-u.discount,u.iva=.12*u.valor,u.total=u.valor+u.iva,u.final=u.total,u.iva0>0&&this.totals.push({label:"Subtotal IVA  0%",value:f.a.usd(u.iva0).str}),this.totals.push({label:"Subtotal IVA 12%",value:f.a.usd(u.iva12).str}),this.totals.push({label:"Descuento Especial",value:f.a.usd(u.discount).str}),this.totals.push({label:"Valor",value:f.a.usd(u.valor).str}),this.totals.push({label:"IVA",value:f.a.usd(u.iva).str}),this.totals.push({label:"Valor Total",value:f.a.usd(u.total).str}),u.final=u.total,"si"===this.retention&&(u.retention=.01*u.total,u.final=u.total-u.retention,this.totals.push({label:"Retenido",value:f.a.usd(u.retention).str})),this.totals.push({label:"Total Final",value:f.a.usd(u.final).str}),v("summation.iva0 "+u.iva0),v("summation.iva12 "+u.iva12),v("summation.discountPct "+u.discountPct),v("summation.discount "+u.discount),v("summation.valor "+u.valor),v("summation.iva "+u.iva),v("summation.total "+u.total),v("summation.retention "+u.retention),v("summation.final "+u.final),n.summation=u,n.items=e,v(n),v(this.$store),v(e)}return e},personsId:function(){v("%%%%%%%%%%%%%%%% personsId %%%%%%%%%%%%%%%%%% "),v(this);var t=[],e=this.persons;return e&&(v("prsns"),o()(e).forEach(function(a){var n=e[a];t.push({value:n.codigo,label:""+n.nombre})})),v(t),{list:t,data:function(t){return"("+t.value+") "+t.label}}}}),methods:s()({},Object(r.b)("bottle",{saveForm:"saveForm"}),{openModal:function(t){t.preventDefault(),this.isComponentModalActive=!0},dropRow:function(t){var e=this;this.checkedRows.forEach(function(t){e.formRows.row.forEach(function(a,n){a.code===t.codigo&&a.code===t.codigo&&e.formRows.row.splice(n,1)})}),v(this.checkedRows),t.preventDefault()},commitForm:function(t){this.saveForm(t)},setItem:function(t){v("Item "+t.qty+" of "+t.code)}})}},207:function(t,e,a){"use strict";var n=a(15),s=a.n(n),i=a(4),o=a.n(i),r=a(3),c=console.log;e.a={computed:o()({},Object(r.c)("product",{products:"list",productsMap:"getProductsMap"}),{typesId:function(){c("%%%%%%%%%%%%%%%%%%%% CC %%%%%%%%%%%%%%%%%%"),c(this),c(this.$store.getters);var t=[],e=this.products;return e&&s()(e).forEach(function(a){var n=e[a];t.push({name:n.nombre,value:n.codigo,id:n.codigo,label:n.nombre+" ("+n.unidad+")"})}),c(t),t}}),methods:o()({},Object(r.b)("bottle",{saveRow:"saveRow"}),{saveForm:function(t){this.saveRow({rowNum:-1,values:t}),this.$parent.close()}})}},221:function(t,e){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},228:function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},23:function(t,e,a){"use strict";a.d(e,"a",function(){return p});var n=a(4),s=a.n(n),i=a(3),o=a(66),r=a(67),c=(a.n(r),a(35)),l=a(41),u=a(169),d=a(188),f=a(197),m=a(1580),v=a(26),b=console.log;o.default.use(i.a);var p=new i.a.Store({state:s()({counter:0,isDebug:!1,isError:!1,msgError:{txt:"We got failure happening",lvl:"is-warning"},axsRights:["visitor"],integrityCheck:{person:9999,product:8888,invoice:7777}},Object(r.formulateState)()()),getters:s()({isDebug:function(t){return t.isDebug},isError:function(t){return t.isError},msgError:function(t){return t.msgError},theRoles:function(t){return window.lgr.debug(t.axsRights),t.axsRights},theCounter:function(t){return{cntr:t.counter,other:"okok"}},theFormData:function(){return{email:"a@b.ca",password_confirmation:"qwer",password:"qwer"}}},Object(r.formulateGetters)()),mutations:s()({notifyUser:function(t,e){window.lgr.warn(e.txt),b(t),t.msgError=e,t.isError=!0},debugMode:function(t,e){t.isDebug=e},updateIntegrityCheck:function(t,e){window.lgr.warn(e),t.integrityCheck=e},clearNotifyUser:function(t){t.msgError="",t.isError=!1},axsRole:function(t,e){window.lgr.debug(e.roles),t.axsRights=e.roles},increment:function(t){window.lgr.warn("UU"),t.counter+=1},decrement:function(t){b("DD"),t.counter-=1},fillFormPerX:function(t){b("QQQQQ GG QQQQQQ"),b(t),t.values.person={email:"a@b.es",description:"qwer",name:"qwer"}},fillForm:function(t){b("QQQQQQQQQQQ"),b(t),t.values.registration={email:"a@b.c",password_confirmation:"qwer",password:"qwer"}}},Object(r.formulateMutations)()),actions:{updateIntegrityCheck:function(t,e){(0,t.commit)("updateIntegrityCheck",e)},notifyUser:function(t,e){(0,t.commit)("notifyUser",e)},clearNotifyUser:function(t){(0,t.commit)("clearNotifyUser")},debugMode:function(t,e){(0,t.commit)("debugMode",e)},setAxsRole:function(t,e){(0,t.commit)("axsRole",e)},increment:function(t){return b("QQQQQ  increment QQQQQQ"),b(t),t.commit("increment")},decrement:function(t){(0,t.commit)("decrement")},fillForm:function(t){(0,t.commit)("fillForm")}},modules:{Auth:m.a,a12n:v.e,articles:d.b,person:c.b,product:l.b,invoice:u.b,bottle:f.b}})},242:function(t,e){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},257:function(t,e,a){"use strict";var n=a(157),s=console.log;e.a={computed:{qtst:function(){var t=" ------- Quick Test -------";return s(t),s(n.a),s(this.$ability),s(window.ability),s(this.$can("alter","protected")),t}}}},258:function(t,e,a){"use strict";var n=a(259),s=a(1735),i=a(262),o=a(1748);e.a={components:{PseudoAuthorizations:s.a,NavBar:i.a,Authentication:n.a,Footer:o.a}}},259:function(t,e,a){"use strict";function n(t){a(1733)}var s=a(260),i=a(1734),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,null,null);e.a=c.exports},26:function(t,e,a){"use strict";a.d(e,"c",function(){return h}),a.d(e,"d",function(){return _}),a.d(e,"b",function(){return S});var n=a(149),s=a.n(n),i=a(1450),o=a.n(i),r=a(15),c=a.n(r),l=a(100),u=a.n(l),d=a(101),f=a.n(d),m=a(125),v=a(1477),b=a(157);a.d(e,"a",function(){return b.a});var p=console.log;b.a.idxAliases.forEach(function(t){"none"!==t&&m.a.addAlias(t,b.a.aliases[t])});var h=m.b.define(function(t){f()(v.a).forEach(function(e){var a=u()(e,2),n=(a[0],a[1]);t("do_nothing",n)})}),g=function(t,e,a){return window.ability&&window.ability.can?"home"===t.name?null:!!window.ability.can("only_view",t.name)&&null:null},_=[g],w={user:{permissions:{Example:b.a.VIEW_ONLY,Invoice:b.a.VIEW_ONLY,Person:b.a.OWN,Product:b.a.VIEW_ONLY,Bottle:b.a.VIEW_ONLY}}},C={getUserPermissions:function(t){return t.user.permissions}},x={changePermission:function(t,e){window.lgr.debug('Access Control (mutation) :: changePermissions of "'+e.resource+'"'),t.user.permissions[e.resource]=e.setting}},y={resetPermissions:function(t,e){var a=e.payload,n=e.ability,s=JSON.parse(a.permissions.replace(/'/g,'"'));c()(s).forEach(function(e){var a={resource:e,setting:s[e]};p(a),t.dispatch("changePermissions",{change:a,ability:n})}),p("\n\n      Permissions reset >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n    ")},changePermissions:function(t,e){var a=e.change,n=e.ability;t.commit("changePermission",a);var s=[];n.rules.map(function(t){var e=!1;return t.subject.forEach(function(t){e||(e=v.a[a.resource].includes(t))}),e?s.push({actions:b.a.idxAliases[a.setting],subject:v.a[a.resource]}):s.push(t),t}),n.update(s)}};e.e={namespaced:!0,state:w,getters:C,mutations:x,actions:y};var k=new o.a;c()(v.a).forEach(function(t){k.add(t)});var S=s()(k)},260:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(17),r=console.log,c={name:"auth",data:function(){return{tkn:null,axStkn:"unused",isActive:"unused"}},beforeUpdate:function(){this.$store.getters.permissions&&this.access!==this.$store.getters.permissions&&(this.access=this.$store.getters.permissions)},created:function(){var t=this;window.ls.on(o.a.activityName,function(e){window.lgr.warn("Auth.vue :: Activity updated :: "+e),t.setActivity(e)}),window.ls.on(o.a.authName,function(e){r("\n  ???????????????????\n   Do we ever get here?\n   Authentication vm.created() localStore onChange event\n  ???????????????????"),window.lgr.warn("Auth.vue :: Auth updated :: "+e),t.setAuth(e)}),this.axStkn=window.ls.get(o.a.tokenName,0),window.ls.on(o.a.tokenName,function(e){window.lgr.warn("Auth.vue :: New token value in local store :: "+e),t.keepTkn({token:e,ability:t.$ability})})},computed:s()({highLightAdmin:function(){return"admin"===this.$store.getters.accessLevel.toString()?"is-warning":""}},Object(i.c)({jwt:"axsToken",isHere:"isActive",isKnown:"isAuthenticated",user:"nameUser",roles:"permissions",priv:"accessLevel"})),methods:s()({},Object(i.b)(["keepTkn","logIn","logOut","setActivity","setAuth"]),{signOut:function(){this.logOut(),this.$router.push({name:"home"})},signIn:function(){this.logIn(),window.lgr.info("Auth.vue :: signin '["+this.access+"]'")}})};e.a=c},261:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(26),r=console.log;e.a={data:function(){return{axsLvls:o.a.olvls,axsLvl:{Example:0,Person:3},role:"admin"}},computed:s()({},Object(i.e)("a12n",["domains","user"]),Object(i.c)("a12n",["getUserPermissions"]),Object(i.c)({isDebug:"isDebug"})),methods:s()({},Object(i.b)("a12n",["changePermissions"]),{onRoleChange:function(){r("================================ "+this.domains),this.changeRole(this.role)},updPermissions:function(t){this.changePermissions({change:{resource:t.target.id,setting:t.target.value},ability:this.$ability})}})}},262:function(t,e,a){"use strict";function n(t){a(1738)}var s=a(263),i=a(1747),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-30930dfa",null);e.a=c.exports},263:function(t,e,a){"use strict";var n=a(37),s=a(259),i=a(1739),o=a(1741),r=a(1743),c=a(1745),l=console.log;e.a={components:{Authentication:s.a,Shop:i.a,Admin:o.a,Tests:r.a,Distributor:c.a},data:function(){return{activeTab:0}},methods:{showTab:function(){return!0},shutBurger:function(){l(Object(n.b)())}}}},264:function(t,e,a){"use strict";var n=a(37);a(179),console.log;e.a={methods:{canOpen:function(t){return this.$can("only_view",t)?"":"color: bisque;"},shutBurger:function(){Object(n.b)()}}}},265:function(t,e,a){"use strict";var n=a(37);a(35),console.log;e.a={methods:{canOpen:function(t){return this.$can("only_view",t)?"":"color: bisque;"},shutBurger:function(){Object(n.b)()}}}},266:function(t,e,a){"use strict";var n=a(37);console.log;e.a={methods:{canOpen:function(t){return this.$can("only_view",t)?"":"color: bisque;"},shutBurger:function(){Object(n.b)()}}}},267:function(t,e,a){"use strict";var n=a(37);console.log;e.a={methods:{canOpen:function(t){return this.$can("only_view",t)?"":"color: bisque;"},shutBurger:function(){Object(n.b)()}}}},268:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(74),r=a.n(o),c=console.log;e.a={methods:{getExpiry:function(){try{var t=new Date(1e3*r.a.decode(this.tkn).exp),e=new Date;return"Token expiry at "+t.getDate()+" "+t.toTimeString()+"  vs  "+e.getDate()+" "+e.toTimeString()}catch(t){return"Logged out"}},qtst:function(){c(" ------- Quick Test -------")}},computed:s()({aclDebug:{get:function(){return this.$store&&this.$store.state&&this.$store.state.isDebug||!1},set:function(){c(this),this.$store.dispatch("debugMode",this.$store.state.isDebug=!this.$store.state.isDebug)}},theVersion:function(){return window.version}},Object(i.c)({tkn:"axsToken",isHere:"isActive",isKnown:"isAuthenticated",isError:"isError",msgError:"msgError"}))}},269:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(74),o=a.n(i),r=a(3),c=a(17),l=a(270);console.log;e.a={methods:{displayDetails:function(t){this.$router.push({name:"detail",params:{id:t}})},qiktst:function(){var t=this,e=this.jwt,a=c.a.server+"/api/person?s=1&c=3";this.$log.info("  +++ Quick Test '"+a+"' +++ ");var n={};e&&(n.Authorization="JWT "+e),fetch(""+a,{headers:n}).then(function(e){t.status=e.statusText,e.text().then(function(e){t.response=e})})},logOutUser:function(){var t=this,e=this.jwt,a=o.a.decode(e).id,n={};e&&(n.Authorization="JWT "+e);var s=c.a.server+"/lgo/"+a;this.$log.info(" +++ LOG OUT USER '"+a+"' AT '"+s+"' +++ "),fetch(""+s,{headers:n}).then(function(e){t.status=e.statusText,e.text().then(function(e){t.response=e})})},purge:function(){var t=this,e=this.jwt,a=c.a.server+"/purge";this.$log.info("  +++ PURGE USERS AT '"+a+"' +++ ");var n={};e&&(n.Authorization="JWT "+e),fetch(""+a,{headers:n}).then(function(e){t.status=e.statusText,e.text().then(function(e){t.response=e})})}},data:function(){return{pictures:l.a.pictures,status:"",response:""}},computed:s()({},Object(r.c)({jwt:"axsToken"}))}},270:function(t,e,a){"use strict";e.a={pictures:[{id:0,url:"https://i.kinja-img.com/gawker-media/image/upload/s--Fe5WsRl7--/c_fit,fl_progressive,q_80,w_320/18k2qthnfp8znjpg.jpg",comment:"A cat game",info:"Posted by Kevin on Friday"},{id:1,url:"https://s.blogcdn.com/news.travel.aol.com/media/2010/10/wittelsbach-diamond-320lvg102910.jpg",comment:"Tatoo & cat",info:"Posted by Charles on Tuesday"},{id:2,url:"https://www.jordanjewellery.com/wp-content/uploads/2017/07/elegant-flower-diamond-rings-large-blooming-beauty-flower-engagement-ring-laying-down-video-gdkdsds-11.jpg",comment:"Santa cat",info:"Posted by Richard on Monday"}]}},271:function(t,e,a){"use strict";var n=a(270);e.a={data:function(){return{pictures:n.a.pictures}}}},272:function(t,e,a){"use strict";var n=a(273),s=a(275);e.a={components:{AA:n.a,BB:s.a}}},273:function(t,e,a){"use strict";function n(t){a(1765)}var s=a(274),i=a(1766),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-ada77990",null);e.a=c.exports},274:function(t,e,a){"use strict";e.a={name:"A",data:function(){return{old_counter:0}},computed:{counter:function(){return this.$store.state.counter}}}},275:function(t,e,a){"use strict";function n(t){a(1767)}var s=a(276),i=a(1768),o=a(1),r=n,c=Object(o.a)(s.a,i.a,i.b,!1,r,"data-v-2aa7f2ba",null);e.a=c.exports},276:function(t,e,a){"use strict";var n=a(4),s=a.n(n),i=a(3),o=a(17);e.a={name:"B",data:function(){return{old_counter:0,axStkn:"unused"}},created:function(){this.axStkn=window.ls.get(o.a.tokenName,0);var t=this;window.ls.on(o.a.tokenName,function(e){window.lgr.warn("New token value in local store :: "+e),t.keepTkn(e)})},computed:s()({},Object(i.c)({counter:"theCounter",token:"axsToken"})),methods:s()({},Object(i.b)(["increment","decrement","keepTkn"]))}},277:function(t,e,a){"use strict";var n=a(70),s=a.n(n),i=a(4),o=a.n(i),r=a(3);e.a={data:function(){return{values:!1}},computed:o()({},Object(r.c)({formData:"theFormData"})),methods:o()({useFormData:function(t){this.values=s()(t,null,2)}},Object(r.b)(["fillForm"]))}},287:function(t,e){},289:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,n){return a("path",t._b({key:"path-"+n},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,n){return a("polygon",t._b({key:"polygon-"+n},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[a("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},s=[]},30:function(t,e,a){"use strict";console.log;e.a={text:function(t){return t},integer:function(t){return t},title:function(t){return t},percent:function(t,e){var a="number"==typeof t?t:parseFloat(t);return{raw:parseFloat((a||0).toFixed(4)),str:(100*(a||0)).toFixed(e||1)+"%"}},boolean:function(t){return"si"===t},JSON1:function(t,e){return e.JSON1.fn(e.JSON1.vl)},foreignKey1:function(t,e){return e.foreignKey1.fn(e.foreignKey1.vl)},usd:function(t){return{raw:(t||0).toFixed(2),str:"$ "+(t||0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}},date:function(t){return t.length<10?t:new Date(Date.parse(t)).toISOString().split("T")[0]}}},35:function(t,e,a){"use strict";a.d(e,"a",function(){return k}),a.d(e,"b",function(){return E});var n=a(19),s=a.n(n),i=a(70),o=a.n(i),r=a(71),c=a.n(r),l=a(57),u=a.n(l),d=a(23),f=a(73),m=a(26),v=a(17),b=a(30),p=a(1483),h=a(1495),g=a(160),_=a(1500),w=a(152),C=console.log,x=[{path:"list",name:"persons/list",components:{personsList:p.a}}],y=[].concat(x),k=[{name:w.b,path:"persons",component:h.a,children:y},{name:w.a,path:"person/:id",component:g.a}];l.client.interceptors.request.use(function(t){var e=t,a=window.ls.get(v.a.tokenName);return null!=a&&(e.headers.Authorization="JWT "+a),e},function(t){return C("request failed"),c.a.reject(t)});var S={processPermissions:function(t){try{return JSON.parse(t.replace(/'/g,'"'))}catch(e){return t}}},E=u()({resource:"person",idAttribute:"codigo",urlRoot:""+v.a.server,client:l.client,state:{columns:_.a,currentTab:0,enums:{},paginator:{s:1,c:1e3}},actions:{fetchAll:function(t){var e=t.dispatch;C("<<<<<< fetchAll >>>>>>"),e("fetchList",{customUrlFnArgs:E.state.paginator}).then(function(t){C(" * * Fetched persons * *"),C(t.columns),e("setColumns",t.columns)}).catch(function(t){C("*** Error while fetching persons :: >"+t.message+"<***"),C(t.message),t.message.endsWith("401")?e("handle401",null,{root:!0}):e("notifyUser",{txt:"Error while fetching persons :: "+t.message,lvl:"is-danger"},{root:!0})})},setColumns:function(t,e){var a=t.commit;window.lgr.info("Person.index --\x3e actions.setColumns"),C(e),a("tableColumns",e)},setCurrentTab:function(t,e){var a=t.commit;window.lgr.info("Person.index --\x3e actions.setCurrentTab -- "+e),a("tab",e)},setEnums:function(t,e){var a=t.commit;window.lgr.info("Person.index --\x3e actions.setEnums"),a("enums",e)},updLocal:function(t,e){var a=t.commit;C("uuuuuuu Update local record uuuuuuuuuu"),C(e.data.mode+" "+e.data.store+" "+e.id),C(e.data.data),a("person",{id:e.id,data:e.data.data})},newLocal:function(t,e){t.dispatch;C("uuuuuuu Append new local record uuuuuuuuuu"),C(e.data.mode+" "+e.data.store)},saveForm:function(t,e){var a=t.dispatch;window.lgr.info("Person.index --\x3e actions.saveForm");var n=e,s={};n.retencion=e.retencion?"si":"no",n.distribuidor=e.distribuidor?"si":"no",C("unununu save form ununununun");var i={};m.b.map(function(t){return C(t+" => "+n[t]),i[t]=n[t],delete n[t],i[t]}),n.permissions=o()(i).split('"').join("'"),C("model"),C(n),e.codigo?(s.id=n.codigo,s.data={mode:"patch",data:{key_column:"codigo",data:n},store:"person"},a("update",s),C("store"),C(E)):(delete n.codigo,s.data={mode:"post",data:n,store:"person"},a("newLocal",s),a("create",s))},backToListTab:function(t){var e=t.getters;t.dispatch;d.a.dispatch("person/fetchList",{customUrlFnArgs:e.getPaginator}),d.a.dispatch("person/setCurrentTab",0)}},getters:{getCurrentTab:function(t){return t.currentTab},getColumns:function(t){return t.columns},getPersons:function(t){return t.list},getEnums:function(t){return t.enums},getPaginator:function(t){return t.paginator},getPerson:function(t){return function(e){return t.entities[e]}}},mutations:{tab:function(t,e){window.lgr.debug("Person.index --\x3e mutations.tab -- "+e),t.currentTab=e},person:function(t,e){C(e.id+" = "+e.data.codigo+"/"+e.data.nombre),t.entities[e.id]=e.data},enums:function(t,e){t.enums=e},tableColumns:function(t,e){window.lgr.debug("Person.index --\x3e mutation.tableColumns"),t.columns=e}},customUrlFn:function(t,e){C(v.a.server),C("using paginator --\x3e "+e);var a=t?"/"+t:"",n=e?"s="+e.s+"&c="+e.c:"s=0&c=0";return C("using customUrlFn( "+a+", "+n+" )"),C("URI :: "+v.a.server+"/api/person"+a+"?"+n),v.a.server+"/api/person"+a+"?"+n},onCreateSuccess:function(){d.a.dispatch("person/backToListTab"),window.lgr.info("Person.index --\x3e mutation.onCreateSuccess OK!")},onUpdateSuccess:function(){d.a.dispatch("person/backToListTab"),window.lgr.info("Person.index --\x3e mutation.onUpdateSuccess OK!")},parseSingle:function(t){C("parseSingle"),C(t.data),C(d.a.state.person.entities[t.data.itemID]);var e={};return e.codigo=t.data.itemID,s()({},t,{data:e})},parseList:function(t){var e=t.data.person,a=e.data,n=e.titles,i=e.meta,o=e.enums,r=Object(f.a)(n),c=a.map(function(t,e){var a=t,n={};return i.forEach(function(t,e){a[e]=b.a[t.type](a[e],{JSON1:{fn:S.processPermissions,vl:a[e]}})}),a.forEach(function(t,e){n[r[e]]=t}),n});return C(" * * Parsed persons data * * "),C("result"),C(c),d.a.dispatch("person/setEnums",o),s()({},t,{data:c,columns:i,enums:o})}})},37:function(t,e,a){"use strict";function n(t){return Array.prototype.slice.call(document.querySelectorAll(t),0)}function s(){function t(){e.forEach(function(t){t.classList.remove("is-active")})}var e=n(".navbar-item.has-dropdown:not(.is-hoverable)"),a=n(".burger");e.length>0&&(e.forEach(function(t){t.addEventListener("click",function(e){e.stopPropagation(),t.classList.toggle("is-active")})}),document.addEventListener("click",function(e){t()})),document.addEventListener("keydown",function(e){27===(e||window.event).keyCode&&t()}),a.length>0?(o("--- We haz "+a.length+" burgers. ---"),o(a),a.forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,a=document.getElementById(e);t.classList.toggle("is-active"),a.classList.toggle("is-active")})})):o("--- Yes! We haz no burgers ---")}function i(){n(".burger").forEach(function(t){return t.classList.remove("is-active")}),n(".burger-bar").forEach(function(t){return t.classList.remove("is-active")})}e.a=s,e.b=i;var o=console.log;o("        ############# Responsive menu event handling installed #############")},41:function(t,e,a){"use strict";a.d(e,"a",function(){return g}),a.d(e,"b",function(){return _});var n=a(19),s=a.n(n),i=a(57),o=a.n(i),r=a(23),c=a(73),l=a(30),u=a(17),d=a(1501),f=a(1506),m=a(1508),v=a(153),b=console.log,p=[{name:v.b,path:"list",components:{productsList:d.a}}],h=[].concat(p),g=[{name:v.a,path:"products",component:f.a,children:h}],_=o()({resource:"product",idAttribute:"codigo",urlRoot:u.a.server+"/api/product",client:i.client,state:{columns:m.a,enums:{},productsMap:{},paginator:{s:1,c:100}},actions:{fetchAll:function(t){var e=t.dispatch;b("<<<<<< fetchAll >>>>>>"),e("fetchList",{customUrlFnArgs:{s:1,c:100}}).then(function(t){b(" * * Fetched products * *"),b(t.columns),e("setColumns",t.columns)}).catch(function(t){b("*** Error while fetching products :: "+t+"***"),b(t.message),t.message.endsWith("401")?e("handle401",null,{root:!0}):e("notifyUser",{txt:"Error while fetching products :: "+t.message,lvl:"is-danger"},{root:!0})})},setColumns:function(t,e){var a=t.commit;window.lgr.info("Product.index --\x3e actions.setColumns"),b(e),a("tableColumns",e)},setEnums:function(t,e){var a=t.commit;window.lgr.info("Product.index --\x3e actions.setEnums"),a("enums",e)},setMap:function(t,e){var a=t.commit;window.lgr.info("Product.index --\x3e actions.setProdMap"),a("prodMap",e)}},getters:{getColumns:function(t){return t.columns},getProducts:function(t){return t.list},getEnums:function(t){return t.enums},getProductsMap:function(t){return t.productsMap},getPaginator:function(t){return t.paginator},getProduct:function(t){return function(e){return t.entities[e]}}},mutations:{products:function(t,e){b(e.id+" = "+e.data.codigo+"/"+e.data.nombre),t.entities[e.id]=e.data},enums:function(t,e){t.enums=e},prodMap:function(t,e){t.productsMap=e},tableColumns:function(t,e){window.lgr.debug("Product.index --\x3e mutation.tableColumns"),t.columns=e}},customUrlFn:function(t,e){b(u.a.server),b("using paginator --\x3e "+e);var a=t?"/"+t:"",n=e?"s="+e.s+"&c="+e.c:"s=0&c=0";return b("using customUrlFn( "+a+", "+n+" )"),b("URI :: "+u.a.server+"/api/product"+a+"?"+n),u.a.server+"/api/product"+a+"?"+n},parseSingle:function(t){b("parseSingle"),b(t.data),b(r.a.state.products.entities[t.data.itemID]);var e={};return e.codigo=t.data.itemID,s()({},t,{data:e})},parseList:function(t){var e=t.data.product,a=e.data,n=e.titles,i=e.meta,o=e.enums,u=Object(c.a)(n),d={},f=a.map(function(t){var e=t;return i.forEach(function(t,a){e[a]=l.a[t.type](e[a])}),e.forEach(function(t,a){return e[u[a]]=t,t}),d[t.codigo]=t,e});return b(" * * Parsed products data * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *"),b("prodMap"),b(d),r.a.dispatch("product/setEnums",o),r.a.dispatch("product/setMap",d),s()({},t,{data:f,columns:i,enums:o})}})},73:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var n=function(t){return t.replace(/[Áá]/g,"a").replace(/[Éé]/g,"e").replace(/[Íí]/g,"i").replace(/[Ôó]/g,"o").replace(/[Úú]/g,"u").replace(/[ñÑ]/g,"n").replace(/[a-z][A-Z]/g,function(t){return t[0]+" _ "+t[1].toLowerCase()}).replace(/\W$/g,"").replace(/\W/g,"_").replace(/_{1,}/g,"_").replace(/[A-Z]/g,function(t){return t.toLowerCase()})},s=function(t){return t.map(function(t){return n(t)})}}},[123]);
//# sourceMappingURL=app.e32a8cb1c9b8c6bf5f7d.js.map